(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{11:function(e,t,c){"use strict";c.d(t,"b",(function(){return l})),c.d(t,"a",(function(){return u}));var n=c(4),s=c(2),a=c.n(s),o=c(25),r=c(1),i=a.a.createContext();function l(){return Object(s.useContext)(i)}function u(e){var t=e.children,c=Object(s.useState)(),a=Object(n.a)(c,2),l=a[0],u=a[1],j=Object(s.useState)(!0),d=Object(n.a)(j,2),b=d[0],h=d[1];Object(s.useEffect)((function(){return o.a.onAuthStateChanged((function(e){u(e),h(!1)}))}),[]);var O={currentUser:l,register:function(e,t){return o.a.createUserWithEmailAndPassword(e,t)},login:function(e,t){return o.a.signInWithEmailAndPassword(e,t)},logout:function(){return o.a.signOut()},resetPassword:function(e){return o.a.sendPasswordResetEmail(e)},updateProfile:function(e,t){return l.updateProfile({email:e,password:t}).then(console.log("update successful")).catch((function(e){console.log(e)}))}};return Object(r.jsx)(i.Provider,{value:O,children:!b&&t})}},112:function(e,t,c){"use strict";c.d(t,"a",(function(){return b}));var n=c(2),s=c(5),a=c.n(s),o=c(10),r=c(4),i=c(25),l=c(11),u=c(7),j=function(e,t){var c=Object(n.useState)(0),s=Object(r.a)(c,2),j=s[0],d=s[1],b=Object(n.useState)(null),h=Object(r.a)(b,2),O=h[0],f=h[1],g=Object(n.useState)(null),p=Object(r.a)(g,2),m=p[0],x=p[1],v=Object(l.b)().currentUser,N=v.uid;return Object(n.useEffect)((function(){console.log(t+" from useStorage.js");var c=i.c.ref(e.name),n=i.b.collection(N),s=new Date,r=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()],l=String(s.getDate()).padStart(2,"0");s.getFullYear();c.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;d(t)}),(function(e){f(e)}),Object(o.a)(a.a.mark((function e(){var s,o,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getDownloadURL();case 2:return s=e.sent,o=Object(i.d)(),n.add({url:s,createdAt:o}),x(s),r={imageUrl:s,description:""},e.next=9,u.a.post("users/".concat(v.uid,"/drafts/").concat(t,"/images.json"),r).then((function(e){console.log(e),console.log("img uploaded to firebase DB")})).catch((function(e){return console.log(e)}));case 9:case"end":return e.stop()}}),e)}))))}),[e]),{progress:j,url:m,error:O}},d=(c(180),c(1));function b(e){var t=e.file,c=e.setFile,s=e.id,a=e.setId,o=j(t,s),r=o.url,i=o.progress;return console.log(s+" from progressBar.js"),console.log(i,r),Object(n.useEffect)((function(){r&&c(null)}),[r,c,a]),Object(d.jsx)("div",{className:"progress-bar",style:{width:i+"%"}})}},115:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));c(2),c(7),c(88),c(11);var n=c(179),s=c(1);function a(e){var t=e.data,c=e.setSelectedImg,a=e.setSelectedId,o=e.setSelectedDescription,r=e.imageDraft;console.log(r);return Object(s.jsx)("div",{className:"img-grid",children:t&&t.map((function(e){return Object(s.jsx)(n.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},onClick:function(){return t=e.imageUrl,n=e.id,s=e.description,c(t),a(n),o(s),void console.log(n);var t,n,s},children:Object(s.jsx)(n.a.img,{src:e.imageUrl,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2}})},e.id)}))})}},172:function(e,t,c){},173:function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var n=c(5),s=c.n(n),a=c(9),o=c(10),r=c(4),i=c(2),l=c(11),u=c(7);function j(e,t,c,n,j){var d=Object(i.useState)(null),b=Object(r.a)(d,2),h=b[0],O=b[1],f=Object(l.b)().currentUser,g=new Date,p=["January","February","March","April","May","June","July","August","September","October","November","December"][g.getMonth()],m=String(g.getDate()).padStart(2,"0");g.getFullYear();return Object(i.useEffect)(Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id is: ".concat(t)+" from GetData page"),console.log("grabs data from GetData page"),[],e.next=5,u.a.get("users/".concat(f.uid,"/drafts/").concat(t,"/images.json")).then((function(e){console.log(e);var t=[];for(var c in e.data)console.log(c),t.unshift(Object(a.a)(Object(a.a)({},e.data[c]),{},{id:c}));O(t)})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),[e,c,n,j]),{datas:h}}},174:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var n=c(2),s=c(7),a=c(11),o=c(14),r=(c(56),c(1));function i(e){var t=e.selectedImg,c=e.setSelectedImg,i=e.selectedId,l=e.setSelectedId,u=e.selectedDescription,j=e.setSelectedDescription,d=e.count,b=e.savedDescription,h=e.deletedImage,O=(e.deletedImageUrl,Object(a.b)().currentUser),f=Object(n.useRef)(),g=(Object(o.g)(),new Date),p=["January","February","March","April","May","June","July","August","September","October","November","December"][g.getMonth()],m=String(g.getDate()).padStart(2,"0");g.getFullYear();console.log(i);return Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"backdrop2",onClick:function(e){e.target.classList.contains("backdrop2")&&(c(null),l(null),j(null),b(null))},children:Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("img",{src:t,alt:"enlarged pic"}),Object(r.jsxs)("div",{className:"modal-form",children:[Object(r.jsx)("label",{children:"Description"}),Object(r.jsx)("textarea",{ref:f,value:u,onChange:function(e){return j(e.target.value)}}),Object(r.jsx)("button",{onClick:function(e){var n={description:f.current.value,imageUrl:t};console.log(n),function(e){s.a.request({method:"put",url:"users/".concat(O.uid,"/drafts/").concat(d,"/images/").concat(i,".json"),data:e}).then((function(t){console.log(t),b(e.description)})).catch((function(e){return console.log(e)}))}(n),c(null),e.preventDefault(),console.log("saved description of ".concat(n.description))},children:"Save"}),Object(r.jsx)("button",{className:"delete",onClick:function(e){s.a.request({method:"delete",url:"users/".concat(O.uid,"/drafts/").concat(d,"/images/").concat(i,".json")}).then((function(e){console.log(e),console.log("".concat(i," image is deleted")),h("".concat(i," deleted"))})).catch((function(e){return console.log(e)})),c(null),e.preventDefault()},children:"Delete"})]})]})})})}},180:function(e,t,c){},181:function(e,t,c){},185:function(e,t,c){},186:function(e,t,c){},20:function(e,t,c){"use strict";t.a=function(e){return e.children}},204:function(e,t,c){},206:function(e,t,c){},207:function(e,t,c){},214:function(e,t,c){},215:function(e,t,c){},25:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"c",(function(){return o})),c.d(t,"b",(function(){return r})),c.d(t,"d",(function(){return i}));var n=c(57),s=(c(208),c(520),c(521),Object({NODE_ENV:"production",PUBLIC_URL:"/adventures-with-chu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH_DOMAIN:"auth-production-90d68.firebaseapp.com",REACT_APP_DEV_MODE:"This is a development mode",REACT_APP_FIREBASE_API_KEY:"AIzaSyBA0tULZMZ3wL0-mVXxOLpfb4zGa3G5acM",REACT_APP_GNEWS:"bd6b156dd22b9e68637a63384d91680e",REACT_APP_ID:"1:83876496888:web:7471c0781bc281ee7c020d",REACT_APP_MESSAGING_SENDER_ID:"83876496888",REACT_APP_NEWSAPI:"1b2cf9f17cb94f8fbb7fd0f5fd2ff074",REACT_APP_PROJECT_ID:"auth-production-90d68",REACT_APP_STORAGE_BUCKET:"auth-production-90d68.appspot.com"})),a={apiKey:s.REACT_APP_FIREBASE_API_KEY,authDomain:s.REACT_APP_AUTH_DOMAIN,projectId:s.REACT_APP_PROJECT_ID,storageBucket:s.REACT_APP_STORAGE_BUCKET,messagingSenderId:s.REACT_APP_MESSAGING_SENDER_ID,appId:s.REACT_APP_ID};n.a.initializeApp(a);var o=n.a.storage(),r=n.a.firestore(),i=n.a.firestore.FieldValue.serverTimestamp,l=n.a.auth()},34:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));c(2),c(207);var n=c(1);function s(){return Object(n.jsx)("footer",{children:Object(n.jsx)("div",{className:"footer",children:Object(n.jsxs)("h4",{children:["\xa9 ",(new Date).getFullYear()," Copyright: Adventures With Chu"]})})})}},510:function(e,t,c){},511:function(e,t,c){},512:function(e,t,c){},513:function(e,t,c){},514:function(e,t,c){},515:function(e,t,c){},516:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return m}));var n=c(62),s=c(9),a=c(5),o=c.n(a),r=c(10),i=c(4),l=c(2),u=(c(181),c(11)),j=c(14),d=c(112),b=c(88),h=c(7),O=c(173),f=c(115),g=c(174),p=(c(34),c(1));function m(){var e=Object(l.useRef)(),t=Object(l.useRef)(),c=Object(l.useRef)(),a=Object(u.b)(),m=a.currentUser,x=(a.updateProfile,Object(l.useState)("")),v=Object(i.a)(x,2),N=v[0],w=v[1],y=Object(l.useState)(null),S=Object(i.a)(y,2),k=S[0],C=S[1],P=Object(b.a)(m.uid).docs,A=Object(j.g)(),E=Object(l.useState)([]),D=Object(i.a)(E,2),_=D[0],I=D[1],R=Object(l.useState)(""),U=Object(i.a)(R,2),B=(U[0],U[1]),T=Object(l.useState)(null),F=Object(i.a)(T,2),M=F[0],L=F[1],J=Object(l.useState)(null),W=Object(i.a)(J,2),G=W[0],q=W[1],z=Object(l.useState)(null),H=Object(i.a)(z,2),Y=H[0],K=H[1],V=Object(l.useState)(null),Z=Object(i.a)(V,2),X=Z[0],Q=Z[1],$=Object(l.useState)(null),ee=Object(i.a)($,2),te=ee[0],ce=ee[1],ne=Object(l.useState)(!1),se=Object(i.a)(ne,2),ae=se[0],oe=se[1],re=Object(O.a)(P,_.id,X,te).datas;console.log(re),console.log(_.id);var ie=function(){var e=Object(r.a)(o.a.mark((function e(t){var c,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=["image/png","image/jpeg"],n=t.target.files[0],s=0,_.length>1&&(s=_.length-1),console.log(s),n&&c.includes(n.type)?(C(n),B(_.id),w("")):(C(null),B(""),w("Please select an image file (png or jpeg)"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=re;console.log(le);var ue=new Date,je=["January","February","March","April","May","June","July","August","September","October","November","December"][ue.getMonth()],de=String(ue.getDate()).padStart(2,"0"),be=ue.getFullYear(),he="".concat(je," ").concat(de,"/").concat(be),Oe=Object(l.useState)(!1),fe=Object(i.a)(Oe,2),ge=(fe[0],fe[1],[]);!0===ae&&(ge=Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&oe(!1)},children:Object(p.jsxs)("div",{className:"options",children:[Object(p.jsx)("h2",{children:"Save to Drafts?"}),Object(p.jsxs)("div",{className:"actions",children:[Object(p.jsx)("button",{onClick:function(){var e={title:t.current.value,content:c.current.value};me(_.id,e),console.log("saved to drafts"),A.push("/profile-blogs")},children:"Yes"}),Object(p.jsx)("button",{onClick:function(){console.log("not saved to drafts"),h.a.request({method:"delete",url:"users/".concat(m.uid,"/images/").concat(he,"/").concat(_.id,".json")}).then((function(e){console.log(e),console.log("".concat(_.id," image file is deleted"))})).catch((function(e){return console.log(e)})),h.a.request({method:"delete",url:"users/".concat(m.uid,"/count/").concat(_.id,".json")}).then((function(e){console.log(e),console.log("".concat(_.id," count file is deleted"))})).catch((function(e){return console.log(e)})),A.push("/profile-blogs")},children:"No"})]})]})})}));var pe=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(_),e.next=3,h.a.get("users/".concat(m.uid,"/count.json")).then((function(e){console.log(e.data),console.log(e.data.length);var t=[];for(var c in e.data)t.push(Object(s.a)(Object(s.a)({},e.data[c]),{},{id:c}));console.log(t.length);var n=0;t.length>1&&(n=t.length-1),I(t[n])})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(e,t){h.a.post("users/".concat(m.uid,"/drafts/").concat(e,"/content.json"),t).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),h.a.request({method:"delete",url:"users/".concat(m.uid,"/count/").concat(_.id,".json")}).then((function(e){console.log(e),console.log("".concat(_.id," count file is deleted"))})).catch((function(e){return console.log(e)}))};Object(l.useEffect)(Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.scrollTo(0,0),console.log(_),pe();case 3:case"end":return e.stop()}}),e)}))),[]),console.log(_),console.log(M),console.log(G),console.log("this is savedDescription from Add Page ".concat(X)),console.log(ae);var xe="/".concat(m.uid,"/images/").concat(he,"/").concat(_.id,"/").concat(G,".json");return console.log(xe),Object(p.jsxs)("div",{className:"container-add",children:[Object(p.jsxs)("div",{className:"title",children:[Object(p.jsx)("h1",{children:"New Blog"}),Object(p.jsx)("button",{onClick:function(){oe(!0)},children:"Back"})]}),Object(p.jsxs)("form",{className:"newBlog",children:[Object(p.jsxs)("div",{className:"newBlog-input",children:[Object(p.jsx)("label",{children:"Title "}),Object(p.jsx)("input",{type:"text",ref:t})]}),Object(p.jsxs)("div",{className:"newBlog-input",children:[Object(p.jsx)("label",{children:"Images "}),Object(p.jsxs)("div",{className:"inputFile",children:[Object(p.jsx)("input",{type:"file",onChange:ie,ref:e}),Object(p.jsx)("span",{children:Object(p.jsx)("i",{className:"fas fa-plus"})})]}),Object(p.jsx)("h4",{children:"Click on any image to edit and add a description"}),Object(p.jsxs)("div",{className:"output",children:[N&&Object(p.jsx)("div",{className:"errors",children:N}),k&&k.name,k&&Object(p.jsx)(d.a,{file:k,setFile:C,id:_.id,setId:B})]})]}),Object(p.jsx)(f.a,{data:re,setSelectedImg:L,setSelectedId:q,setSelectedDescription:K}),Object(p.jsxs)("div",{className:"newBlog-input",children:[Object(p.jsx)("label",{children:"Content "}),Object(p.jsx)("textarea",{rows:"20",cols:"100",placeholder:"Start writing here...",ref:c})]}),Object(p.jsx)("div",{className:"newBlog-post",children:Object(p.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var s={date:he,title:t.current.value,content:c.current.value};h.a.post("users/".concat(m.uid,"/blogs/").concat(_.id,"/content.json"),s).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));var a,o=Object(n.a)(re);try{for(o.s();!(a=o.n()).done;){var r=a.value;console.log(r),h.a.post("users/".concat(m.uid,"/blogs/").concat(_.id,"/images.json"),r).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}}catch(i){o.e(i)}finally{o.f()}h.a.request({method:"delete",url:"users/".concat(m.uid,"/drafts/").concat(_.id,".json")}).then((function(e){console.log(e),console.log("draft ".concat(_.id," deleted"))})).catch((function(e){return console.log(e)})),A.push("/profile-blogs")},children:"Post"})})]}),ge,M&&Object(p.jsx)(g.a,{selectedImg:M,setSelectedImg:L,selectedId:G,setSelectedId:q,selectedDescription:Y,setSelectedDescription:K,count:_.id,savedDescription:Q,deletedImage:ce,deletedImageUrl:xe})]})}},517:function(e,t,c){},518:function(e,t,c){},519:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(43),o=c.n(a),r=(c(185),c(5)),i=c.n(r),l=c(9),u=c(10),j=c(4),d=(c(186),c(39)),b=c(40),h=c(42),O=c(41),f=c(56),g=c.n(f),p=c(20),m=(c(204),c(1));function x(e){var t=Object(m.jsx)("p",{children:e.description});e.description.length>120&&(t=Object(m.jsxs)("p",{children:[e.description.slice(0,119),"...",Object(m.jsx)("span",{children:Object(m.jsx)("a",{href:e.url,target:"__blank",children:" Read More."})})]}));var c=Object(m.jsxs)("h5",{children:["By: ",e.author]});null==e.author&&(c=Object(m.jsx)("h5",{children:"By: Unknown"}));var n="";return e.img&&(n=Object(m.jsxs)(p.a,{children:[Object(m.jsx)("div",{className:"newsPic",style:{background:"url(".concat(e.img,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),Object(m.jsxs)("div",{className:"summary",children:[c,Object(m.jsx)("h4",{children:e.title}),t]})]})),null==e.img&&(n=Object(m.jsxs)("div",{className:"summary",children:[Object(m.jsx)("h4",{children:e.title}),c,t]})),Object(m.jsx)("div",{className:"news",children:n})}c(206);var v=function(e){Object(h.a)(c,e);var t=Object(O.a)(c);function c(e){var n;return Object(d.a)(this,c),(n=t.call(this)).state={news:[]},console.log("constructor"),n}return Object(b.a)(c,[{key:"componentDidMount",value:function(){var e=this;g.a.get("http://newsapi.org/v2/everything?qInTitle=vacation&sortBy=popularity&apiKey=1b2cf9f17cb94f8fbb7fd0f5fd2ff074").then((function(t){for(var c=[],n=0;n<3;n++)c.push({id:n,author:t.data.articles[n].author,title:t.data.articles[n].title,description:t.data.articles[n].description,url:t.data.articles[n].url,urlImg:t.data.articles[n].urlToImage});e.setState({news:c}),console.log(e.state.news)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.news.map((function(e){return Object(m.jsx)(x,{title:e.title,author:e.author,description:e.description,url:e.url,img:e.urlImg},e.id)}));return Object(m.jsx)("div",{className:"worldNews",children:e})}}]),c}(n.Component),N=c(7),w=c(34),y=c(14),S=c(8),k=c(11),C=(c(112),c(77));var P=function(){var e=Object(k.b)().currentUser,t=Object(n.useState)([]),c=Object(j.a)(t,2),s=c[0],a=c[1],o=Object(n.useState)(""),r=Object(j.a)(o,2),d=r[0],b=r[1],h=Object(n.useState)([]),O=Object(j.a)(h,2),f=O[0],g=O[1],p=(Object(y.g)().history,function(){var t=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get("/users/".concat(e.uid,".json")).then((function(e){var t=[];t.push(Object(l.a)({},e.data)),a(t),b("logged in")})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),x=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=4;break}if(!(Object.keys(s).length>0)){e.next=4;break}return e.delegateYield(i.a.mark((function e(){var t,c,n,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.values(s[0].profile),c=Object.values(t[0].following),n=[],a=i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/users/".concat(c[t].id,".json")).then((function(e){console.log(e),n.push(Object(l.a)(Object(l.a)({},e.data),{},{id:c[t].id}))})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})),o=0;case 5:if(!(o<c.length)){e.next=10;break}return e.delegateYield(a(o),"t0",7);case 7:o++,e.next=5;break;case 10:n.length>0&&g(n);case 11:case"end":return e.stop()}}),e)}))(),"t0",4);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(t){window.scrollTo(0,0),e||console.log("not logged in"),e&&p(),s&&x()}),[d]);var P=Object(m.jsx)("div",{}),A=Object(m.jsx)("div",{});console.log(f);var E=[],D=[];f&&f.length>0&&(f.map((function(e){for(var t=Object.keys(e.blogs),c=[],n=0;n<t.length;n++)c.push({id:t[n],content:e.blogs[t[n]].content,images:e.blogs[t[n]].images});var s=e.id,a=Object.values(e.profile);E.push({blogs:c,profileName:a[0].name,profilePic:a[0].images,id:s})})),E.map((function(e){e.blogs.forEach((function(t){D.unshift({content:t.content,images:t.images,blogId:t.id,userId:e.id,profileName:e.profileName,profilePic:e.profilePic})}))})),P=D.map((function(e){e.profileName;var t=Object.keys(e.content),c="".concat(e.userId,"/blogs/").concat(e.blogId),n=Object.values(e.content),s=Object(m.jsx)("div",{});if(e.images){var a=Object.values(e.images);s=Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("img",{src:a[0].imageUrl})})}var o=Object(m.jsx)("img",{src:C.a});if(e.profilePic){var r=Object.values(e.profilePic);o=Object(m.jsx)("img",{src:r[0].imageUrl})}return Object(m.jsxs)("div",{className:"blogs",children:[Object(m.jsxs)("div",{className:"following",children:[Object(m.jsx)("div",{className:"profilePic",children:o}),Object(m.jsxs)("div",{className:"profileContent",children:[Object(m.jsx)("h2",{children:e.profileName}),Object(m.jsx)("p",{children:n[0].date})]})]}),Object(m.jsx)("h4",{children:n[0].title}),s,Object(m.jsx)(S.b,{to:c,children:Object(m.jsx)("button",{children:"Read Blog"})})]},t[0])})));var _=Object(m.jsx)("div",{});return e&&(A=Object(m.jsxs)("div",{className:"featured",children:[Object(m.jsx)("h3",{className:"featuredH3",children:"Recent Posts"}),Object(m.jsx)("div",{className:"featuredBlogs",children:P})]})),e||(_=Object(m.jsx)("div",{className:"logo",children:Object(m.jsxs)("div",{className:"brief",children:[Object(m.jsx)("h1",{children:"Welcome to Adventures with Chu"}),Object(m.jsx)("h3",{children:"Start blogging and share with everyone."})]})})),Object(m.jsxs)("div",{className:"home",children:[_,Object(m.jsxs)("main",{className:"containers welcome",children:[Object(m.jsxs)("div",{className:"intro",children:[A,Object(m.jsx)("div",{className:"underline",children:Object(m.jsx)("div",{className:"shadow"})})]}),Object(m.jsx)("div",{className:"logo2",children:Object(m.jsxs)("div",{className:"brief2",children:[Object(m.jsx)("h1",{children:"Come check other blogs!"}),Object(m.jsx)("button",{children:Object(m.jsx)(S.b,{to:"/browse",children:"Browse"})})]})}),Object(m.jsx)("div",{className:"underline",children:Object(m.jsx)("div",{className:"shadow"})}),Object(m.jsxs)("div",{className:"new",children:[Object(m.jsx)("h3",{children:"What's Happening Around the World"}),Object(m.jsx)(v,{})]})]}),Object(m.jsx)(w.a,{})]})};c(214),c(215);var A=c.p+"static/media/logo1.24b6b22e.png",E=c(64);c(216);var D=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),o=Object(j.a)(a,2),r=(o[0],o[1]),l=Object(n.useState)(""),d=Object(j.a)(l,2),b=(d[0],d[1]),h=Object(k.b)(),O=h.currentUser,f=h.logout,g=function(){return s(!1)},x=Object(y.g)().history,v=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(""),e.next=4,f();case 4:window.location.reload(),x.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b("Failed to log out");case 11:g();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),N=Object(m.jsxs)("ul",{className:c?"nav-menu active":"nav-menu",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(S.b,{to:"/",className:"nav-links",onClick:g,children:"Home"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(S.b,{to:"/browse",className:"nav-links",onClick:g,children:"Browse"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(S.b,{to:"/sign-in",className:"nav-links",onClick:g,children:"Sign In"})})]});return O&&(N=Object(m.jsxs)("ul",{className:c?"nav-menu active":"nav-menu",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(S.b,{to:"/",className:"nav-links",onClick:g,children:"Home"})}),Object(m.jsx)("li",{className:"nav-item",onMouseEnter:function(){window.innerWidth<960?r(!1):r(!0)},onMouseLeave:function(){window.innerWidth,r(!1)},children:Object(m.jsx)(S.b,{to:"/profile-blogs",className:"nav-links",onClick:g,children:"Profile"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(S.b,{to:"/browse",className:"nav-links",onClick:g,children:"Browse"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(S.b,{to:"/",className:"nav-links",onClick:v,children:"Log Out"})})]})),Object(m.jsx)(p.a,{children:Object(m.jsxs)("nav",{className:"navbar",children:[Object(m.jsx)("div",{className:"imgContainer",children:Object(m.jsx)("img",{className:"img1",src:A})}),Object(m.jsx)("div",{className:"menu-icon",onClick:function(){return s(!c)},children:Object(m.jsx)("div",{className:c?"fas fa-times":"fas fa-bars"})}),N]})})};c(510),c(172);function _(){var e=Object(y.h)().id;console.log(e);var t=Object(k.b)().currentUser,c=Object(y.g)(),s=Object(n.useState)([]),a=Object(j.a)(s,2),o=a[0],r=a[1],l=Object(n.useState)([]),d=Object(j.a)(l,2),b=d[0],h=d[1],O=Object(n.useState)(""),f=Object(j.a)(O,2),g=f[0],p=f[1];console.log(b),Object(n.useEffect)(Object(u.a)(i.a.mark((function c(){return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return window.scrollTo(0,0),c.next=3,N.a.get("users/".concat(t.uid,"/blogs/").concat(e,".json")).then((function(e){console.log(e.data);var t=[],c=[];t.push({content:e.data.content}),e.data.images&&(c.push({images:e.data.images}),h(c)),r(t)})).catch((function(e){return console.log(e)}));case 3:return c.next=5,N.a.get("users/".concat(t.uid,"/profile.json")).then((function(e){console.log(e.data);var t=Object.values(e.data);console.log(t),p(t[0].name)})).catch((function(e){return console.log(e)}));case 5:case"end":return c.stop()}}),c)}))),[]);var x="",v="",w="";if(o.length>0){var S=o[0].content,C=Object.keys(S);x=S[C].title,v=S[C].content,w=S[C].date}var P=Object(m.jsx)("div",{}),A=Object(m.jsx)("div",{}),E=[],D="";if(b.length>0){D=Object.values(b[0].images),console.log(D),console.log(D.length);for(var _=0;_<D.length;_++)console.log(D[_].id),E.push({id:D[_].id,imageUrl:D[_].imageUrl,description:D[_].description});console.log(E),P=E.map((function(e){return e.description?Object(m.jsxs)("div",{className:"img",children:[Object(m.jsx)("img",{src:e.imageUrl}),Object(m.jsx)("p",{children:e.description})]}):e.description?void 0:Object(m.jsx)("div",{className:"noDesc",children:Object(m.jsx)("img",{src:e.imageUrl})})})),A=Object(m.jsxs)("div",{className:"gallery",children:[Object(m.jsx)("h4",{children:"Gallery"}),Object(m.jsx)("div",{className:"img-grid",children:P})]})}return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"showBlog",children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("h2",{children:x}),Object(m.jsxs)("h4",{children:["Author: ",g," "]}),Object(m.jsxs)("h4",{children:["Posted: ",w]})]}),A,Object(m.jsx)("div",{className:"synopsis",children:Object(m.jsx)("p",{children:v})})]}),Object(m.jsx)("div",{className:"backButton",children:Object(m.jsx)("button",{onClick:function(){return c.goBack()},children:"Back"})})]})}c(511);var I=c(72);function R(){Object(n.useRef)();var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(k.b)(),a=s.register,o=(s.currentUser,Object(n.useState)("")),r=Object(j.a)(o,2),l=r[0],d=r[1],b=Object(n.useState)(!1),h=Object(j.a)(b,2),O=h[0],f=h[1],g=Object(y.g)();function p(){return(p=Object(u.a)(i.a.mark((function n(s){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),console.log(e.current.value),console.log(t.current.value),t.current.value===c.current.value){n.next=5;break}return n.abrupt("return",d("Passwords do not match"));case 5:return n.prev=5,d(""),f(!0),n.next=10,a(e.current.value,t.current.value);case 10:console.log("Account created..."),g.push("/profile-blogs"),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(5),d("Failed to create an account, ".concat(n.t0));case 17:f(!1);case 18:case"end":return n.stop()}}),n,null,[[5,14]])})))).apply(this,arguments)}return Object(m.jsxs)("div",{className:"general",children:[Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"signUp",children:[Object(m.jsx)("figure",{children:Object(m.jsx)("img",{src:E.a,alt:"adventures with chu"})}),Object(m.jsx)("h1",{children:"Register"}),l&&Object(m.jsx)(I.a,{message:l}),Object(m.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(m.jsxs)("div",{className:"input-form",children:[Object(m.jsx)("label",{children:"Email Address"}),Object(m.jsx)("input",{type:"email",required:!0,ref:e})]}),Object(m.jsxs)("div",{className:"input-form",children:[Object(m.jsx)("label",{children:"Password"}),Object(m.jsx)("input",{type:"password",required:!0,ref:t,minLength:"6",autoComplete:"off"})]}),Object(m.jsxs)("div",{className:"input-form",children:[Object(m.jsx)("label",{children:"Confirm Password"}),Object(m.jsx)("input",{type:"password",required:!0,ref:c,minLength:"6",autoComplete:"off"})]}),Object(m.jsx)("button",{disabled:O,type:"submit",className:"button",children:"Sign Up"})]}),Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("p",{children:["Have an account? ",Object(m.jsx)("span",{children:Object(m.jsx)("a",{href:"/sign-in",children:"Log in"})})]})})]})}),Object(m.jsx)(w.a,{})]})}var U=c(62),B=c(75);c(517);function T(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(k.b)().currentUser,o=Object(n.useState)([]),r=Object(j.a)(o,2),d=r[0],b=r[1],h=Object(n.useState)([]),O=Object(j.a)(h,2),f=(O[0],O[1],Object(n.useState)([])),g=Object(j.a)(f,2),x=g[0],v=g[1];console.log(c);console.log(d);var w=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(1),o=Object(j.a)(a,2),r=o[0],i=(o[1],Object(k.b)().currentUser);return Object(n.useEffect)((function(){var e={count:"".concat(r)};N.a.post("users/".concat(i.uid,"/count.json"),e).then((function(e){console.log(e),console.log(e.data);var t=[];for(var c in e.data)t.push(Object(l.a)(Object(l.a)({},e.data),{},{count:r,name:e.data.name}));s(t)})).catch((function(e){return console.log(e)}))}),[]),{info:c}}().info,y=function(){};console.log(d.length);var C,P="",A=[],E=(d.map((function(e){A.unshift(e.id)})),d.includes("title"),Object(n.useState)([])),D=Object(j.a)(E,2),_=D[0],I=D[1];console.log(_),C=d.map((function(e){var t=e.content,c="";e.content&&(c=Object.keys(t)),console.log(c);var n="/profile-blogs/".concat(e.id,"/edit");if(e.content)if(""==t[c].title){var s=A.indexOf(e.id)+1;P=Object(m.jsxs)(S.b,{to:n,children:["Draft #",s]})}else P=Object(m.jsx)(S.b,{to:n,children:t[c].title});return Object(m.jsx)("ul",{children:Object(m.jsx)("li",{children:P},e.id)})})),console.log(_);var R=_.map((function(e){var t=e.content,c="";e.content&&(c=Object.keys(t)),console.log(t[c].title);var n="",s="",a="";if(console.log(e.images),e.images)for(var o=0;o<1;o++)n=e.images,console.log(n),s=Object.keys(n),console.log(s),console.log(s[o]),console.log(n[s[o]].imageUrl),a=n[s[o]].imageUrl;console.log(s);var r="",i="/profile/blogs/".concat(e.id);return e.images||(r=Object(m.jsx)(S.b,{to:i,children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h2",{children:t[c].title}),Object(m.jsx)("div",{className:"info",children:Object(m.jsx)("p",{children:t[c].date})}),Object(m.jsx)("p",{children:t[c].content})]})})),e.images&&(r=Object(m.jsx)(S.b,{to:i,children:Object(m.jsxs)("div",{className:"cardWithImg",children:[Object(m.jsx)("h2",{children:t[c].title}),Object(m.jsx)("p",{children:t[c].date}),Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("div",{className:"img",children:Object(m.jsx)("img",{src:a})}),Object(m.jsx)("div",{className:"info",children:Object(m.jsx)("p",{children:t[c].content})})]})]})})),Object(m.jsx)("div",{className:"perBlog",children:r})}));console.log(_.length),console.log(d.length);var T=[];T=0===d.length&&0===_.length?Object(m.jsx)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",textAlign:"center",width:"100%",maxWidth:"300px",margin:"40px auto",padding:"10px",border:"1px solid #111",boxShadow:"2px 2px 2px #1115"},children:Object(m.jsxs)(S.b,{to:"profile-blogs-new",children:[Object(m.jsx)("p",{onClick:y,style:{fontSize:"1.5rem"},children:"Create your first blog!"}),Object(m.jsx)("i",{className:"fas fa-plus",style:{marginBottom:"20px",fontSize:"1.2rem"}})]})}):Object(m.jsxs)(p.a,{children:[Object(m.jsxs)("div",{className:"mainTabs",children:[Object(m.jsx)("div",{className:"newPost",children:Object(m.jsx)("button",{onClick:y,children:Object(m.jsx)(S.b,{to:"profile-blogs-new",children:Object(m.jsx)("i",{className:"fas fa-plus"})})})}),Object(m.jsx)("div",{className:"posts",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("h3",{onClick:function(){s(1!=c),console.log(c)},children:["Drafts (",d.length,")"]}),c&&C]})})]}),Object(m.jsx)("div",{className:"showBlogs",children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("h3",{children:["Blogs (",_.length,")"]}),Object(m.jsx)("div",{className:"blog-grid",children:R})]})})]}),console.log(x);var F=Object(n.useState)([]),M=Object(j.a)(F,2),L=M[0],J=M[1];console.log(L);var W=[];if(L.length>0){var G,q=Object(U.a)(L);try{for(q.s();!(G=q.n()).done;){var z=G.value;W.push(z.id)}}catch(K){q.e(K)}finally{q.f()}console.log(W),console.log(W.length);var H=W.length-1;console.log(H);for(var Y=0;Y<H;Y++)N.a.request({method:"delete",url:"users/".concat(a.uid,"/count/").concat(W[Y],".json")}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,N.a.get("users/".concat(a.uid,"/drafts.json")).then((function(e){console.log(e.data);var t=[];for(var c in e.data)t.unshift(Object(l.a)(Object(l.a)({},e.data[c]),{},{id:c}));b(t)})).catch((function(e){return console.log(e)}));case 3:return e.next=5,N.a.get("users/".concat(a.uid,"/profile.json")).then((function(e){console.log(e.data);var t=[];for(var c in e.data)t.unshift(Object(l.a)(Object(l.a)({},e.data[c]),{},{id:c}));v(t)})).catch((function(e){return console.log(e)}));case 5:return e.next=7,N.a.get("users/".concat(a.uid,"/count.json")).then((function(e){console.log(e.data);var t=[];for(var c in e.data)t.push({id:c});console.log(t),J(t)})).catch((function(e){return console.log(e)}));case 7:return e.next=9,N.a.get("users/".concat(a.uid,"/blogs.json")).then((function(e){console.log(e.data);var t=[];for(var c in e.data)t.unshift(Object(l.a)(Object(l.a)({},e.data[c]),{},{id:c}));console.log(t),I(t)})).catch((function(e){return console.log(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w]),console.log(x),Object(m.jsxs)("div",{className:"profile",children:[Object(m.jsx)(B.a,{}),Object(m.jsx)("main",{children:Object(m.jsx)("div",{className:"userContent",children:Object(m.jsxs)("div",{className:"tags",children:[Object(m.jsx)("p",{children:Object(m.jsxs)(S.b,{to:"profile-blogs",children:[Object(m.jsx)("i",{className:"fas fa-scroll"}),"Blogs"]})}),Object(m.jsx)("p",{children:Object(m.jsxs)(S.b,{to:"profile-gallery",children:[Object(m.jsx)("i",{className:"far fa-image"}),"Gallery"]})})]})})}),Object(m.jsx)("div",{className:"containers",children:T})]})}var F=function(e){Object(h.a)(c,e);var t=Object(O.a)(c);function c(){return Object(d.a)(this,c),t.apply(this,arguments)}return Object(b.a)(c,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"home",children:[Object(m.jsx)(T,{}),Object(m.jsx)(w.a,{})]})}}]),c}(n.Component),M=c(178);function L(e){var t=e.component,c=Object(M.a)(e,["component"]),n=Object(k.b)().currentUser;return Object(m.jsx)(y.b,Object(l.a)(Object(l.a)({},c),{},{render:function(e){return n?Object(m.jsx)(t,Object(l.a)({},e)):Object(m.jsx)(y.a,{to:"/sign-in"})}}))}function J(){var e=Object(n.useRef)(),t=(Object(n.useRef)(),Object(k.b)().resetPassword),c=Object(n.useState)(""),s=Object(j.a)(c,2),a=s[0],o=s[1],r=Object(n.useState)(!1),l=Object(j.a)(r,2),d=l[0],b=l[1],h=Object(n.useState)(""),O=Object(j.a)(h,2),f=O[0],g=O[1];function p(){return(p=Object(u.a)(i.a.mark((function c(n){return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,g(""),o(""),b(!0),c.next=7,t(e.current.value);case 7:g("Check your inbox/junk for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),o("Failed to reset password, ".concat(c.t0));case 13:b(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"signUp",children:[Object(m.jsx)("figure",{children:Object(m.jsx)("img",{src:E.a,alt:"adventures with chu"})}),a&&Object(m.jsx)(I.a,{message:a}),f&&Object(m.jsx)(I.a,{message:f}),Object(m.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(m.jsxs)("div",{className:"input-form",children:[Object(m.jsx)("label",{children:"Email Address"}),Object(m.jsx)("input",{type:"email",required:!0,ref:e})]}),Object(m.jsx)("button",{disabled:d,type:"submit",className:"button",children:"Reset Password"})]}),Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("p",{children:["Have an account?",Object(m.jsx)("a",{href:"/sign-in",children:"Login"})]})})]})})}c(518);function W(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),o=Object(j.a)(a,2),r=o[0],l=o[1],d=Object(n.useState)([]),b=Object(j.a)(d,2),h=b[0],O=b[1],f=Object(n.useRef)(),p=Object(k.b)().currentUser,x=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://gnews.io/api/v4/search?q=".concat(t,"&max=10&lang=en&token=").concat("bd6b156dd22b9e68637a63384d91680e")).then((function(e){console.log(e.data);var t,c=[],n=Object(U.a)(e.data.articles);try{for(n.s();!(t=n.n()).done;){var a=t.value;c.push({content:a.content,description:a.description,image:a.image,date:a.publishedAt,source:a.source,title:a.title,url:a.url})}}catch(o){n.e(o)}finally{n.f()}s(c)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(r);var v=function(e){var t=r.filter((function(t){return t.name.indexOf(e)>-1}));console.log(t),O(t)};console.log(h);var y=Object(n.useState)(""),S=Object(j.a)(y,2),P=S[0],A=S[1],E=Object(n.useState)([]),D=Object(j.a)(E,2),_=D[0],I=D[1],R=Object(n.useState)(""),B=Object(j.a)(R,2),T=B[0],F=B[1];console.log(P),console.log(_);var M=function(){var e=Object(u.a)(i.a.mark((function e(t){var c,n,s,a,o,r,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(null),c="",e.next=4,N.a.get("https://auth-production-90d68-default-rtdb.firebaseio.com/users/".concat(t.id,"/profile.json")).then((function(e){c=Object.keys(e.data)})).catch((function(e){return console.log(e)}));case 4:if(console.log(c),n={id:t.id},console.log(t),console.log(n),s={id:p.uid},a=[],_){for(o=Object.keys(_),r=0;r<o.length;r++)console.log(_[o[r]]),console.log(_[o[r]].id),a.push({id:_[o[r]].id});console.log(a)}if(l={id:t.id},console.log(l.id),u=a.some((function(e){return e.id==t.id})),console.log(u),1==u&&console.log("already following"),0!=u&&_){e.next=22;break}return console.log("not following"),e.next=20,N.a.post("https://auth-production-90d68-default-rtdb.firebaseio.com/users/".concat(p.uid,"/profile/").concat(P,"/following.json"),n).then((function(e){console.log(e),F("changed")})).catch((function(e){return console.log(e)}));case 20:return e.next=22,N.a.post("https://auth-production-90d68-default-rtdb.firebaseio.com/users/".concat(t.id,"/profile/").concat(c[0],"/followers.json"),s).then((function(e){console.log(e),F("changed")})).catch((function(e){return console.log(e)}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L="",J="";h&&(L=h.map((function(e){var t="";if(e.images&&(t=Object.values(e.images)[0].imageUrl),e.images||(t=C.a),p.uid===e.id&&(J=Object(m.jsxs)("div",{className:"user",children:[Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("img",{src:t})}),Object(m.jsx)("h2",{children:e.name}),Object(m.jsx)("p",{children:e.location})]})),p.uid!==e.id&&(J=Object(m.jsxs)("div",{className:"user",children:[Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("img",{src:t})}),Object(m.jsx)("h2",{children:e.name}),Object(m.jsx)("p",{children:e.location}),Object(m.jsx)("button",{onClick:function(){return M(e)},children:"Follow"})]})),_){for(var c=Object.keys(_),n=[],s=0;s<c.length;s++)console.log(_[c[s]]),console.log(_[c[s]].id),n.push({id:_[c[s]].id});console.log(n);var a=n.some((function(t){return t.id==e.id}));console.log(a),1==a&&(console.log("already following"),J=Object(m.jsxs)("div",{className:"user",children:[Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("img",{src:t})}),Object(m.jsx)("h2",{children:e.name}),Object(m.jsx)("p",{children:e.location}),Object(m.jsx)("button",{className:"following",children:"Following"})]}))}return Object(m.jsx)("div",{className:"userProfile",children:J})}))),Object(n.useEffect)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://auth-production-90d68-default-rtdb.firebaseio.com/users.json").then((function(e){console.log(e.data);var t=[];console.log(Object.keys(e.data));var c=Object.keys(e.data);console.log(c.length);for(var n=0;n<c.length;n++){console.log(e.data[c[n]].profile);Object.keys(e.data[c[n]].profile);console.log(c);var s=Object.values(e.data[c[n]].profile);console.log(s),t.push({id:c[n],name:s[0].name,location:s[0].location,images:s[0].images})}console.log(t),l(t)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,N.a.get("users/".concat(p.uid,"/profile.json")).then((function(e){console.log(e.data);var t=Object.values(e.data),c=Object.keys(e.data);console.log(t),console.log(c),I(t[0].following),A(c[0])})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),[T]);var W="",G=c.map((function(e){return c.length>0&&e.content.length>200&&(W=Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:e.title}),Object(m.jsx)("img",{src:e.image}),Object(m.jsxs)("p",{children:[" ",e.content.slice(0,199),"...",Object(m.jsx)("span",{children:Object(m.jsx)("a",{href:e.url,target:"__blank",children:" Read More."})})]})]})),Object(m.jsx)("div",{className:"blog",children:W})}));return Object(m.jsxs)("div",{className:"home",children:[Object(m.jsxs)("div",{className:"browse",children:[Object(m.jsx)("div",{className:"search",children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(f.current.value),x(f.current.value),r&&v(f.current.value),f.current.value=null},className:"browseForm",children:[Object(m.jsxs)("div",{className:"browseInput",children:[Object(m.jsx)("label",{children:"Browse"}),Object(m.jsx)("input",{type:"text",ref:f})]}),Object(m.jsx)("button",{type:"submit",children:"Search"})]})}),Object(m.jsxs)("div",{className:"grids",children:[L,G]})]}),Object(m.jsx)(w.a,{})]})}function G(){return Object(m.jsx)("div",{className:"",children:Object(m.jsx)(W,{})})}function q(){return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(B.a,{}),Object(m.jsx)("div",{className:"containers",children:Object(m.jsx)("p",{children:"I am a saved post"})})]})}function z(){var e=Object(y.h)(),t=e.id,c=e.user;console.log(c),console.log(t);var s=Object(y.g)(),a=Object(n.useState)([]),o=Object(j.a)(a,2),r=o[0],l=o[1],d=Object(n.useState)([]),b=Object(j.a)(d,2),h=b[0],O=b[1],f=Object(n.useState)(""),g=Object(j.a)(f,2),p=g[0],x=g[1];console.log(h),Object(n.useEffect)(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,N.a.get("users/".concat(c,"/blogs/").concat(t,".json")).then((function(e){console.log(e.data);var t=[],c=[];t.push({content:e.data.content}),e.data.images&&(c.push({images:e.data.images}),O(c)),l(t)})).catch((function(e){return console.log(e)}));case 3:return e.next=5,N.a.get("users/".concat(c,"/profile.json")).then((function(e){console.log(e.data);var t=Object.values(e.data);console.log(t),x(t[0].name)})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),[]);var v="",w="",S="";if(r.length>0){var k=r[0].content,C=Object.keys(k);v=k[C].title,w=k[C].content,S=k[C].date}var P=Object(m.jsx)("div",{}),A=Object(m.jsx)("div",{}),E=[],D="";if(h.length>0){D=Object.values(h[0].images),console.log(D),console.log(D.length);for(var _=0;_<D.length;_++)console.log(D[_].id),E.push({id:D[_].id,imageUrl:D[_].imageUrl,description:D[_].description});console.log(E),P=E.map((function(e){return e.description?Object(m.jsxs)("div",{className:"img",children:[Object(m.jsx)("img",{src:e.imageUrl}),Object(m.jsx)("p",{children:e.description})]}):e.description?void 0:Object(m.jsx)("div",{className:"noDesc",children:Object(m.jsx)("img",{src:e.imageUrl})})})),A=Object(m.jsxs)("div",{className:"gallery",children:[Object(m.jsx)("h4",{children:"Gallery"}),Object(m.jsx)("div",{className:"img-grid",children:P})]})}return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"showBlog",children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("h2",{children:v}),Object(m.jsxs)("h4",{children:["Author: ",p," "]}),Object(m.jsxs)("h4",{children:["Posted: ",S]})]}),A,Object(m.jsx)("div",{className:"synopsis",children:Object(m.jsx)("p",{children:w})})]}),Object(m.jsx)("div",{className:"backButton",children:Object(m.jsx)("button",{onClick:function(){return s.goBack()},children:"Back"})})]})}var H=s.a.lazy((function(){return c.e(4).then(c.bind(null,527))})),Y=s.a.lazy((function(){return c.e(6).then(c.bind(null,528))})),K=s.a.lazy((function(){return c.e(5).then(c.bind(null,529))})),V=s.a.lazy((function(){return Promise.resolve().then(c.bind(null,516))})),Z=s.a.lazy((function(){return c.e(7).then(c.bind(null,530))})),X=s.a.lazy((function(){return c.e(3).then(c.bind(null,533))})),Q=s.a.lazy((function(){return c.e(8).then(c.bind(null,532))}));var $=function(){return Object(m.jsx)(S.a,{children:Object(m.jsxs)(k.a,{children:[Object(m.jsx)(D,{}),Object(m.jsxs)(n.Suspense,{fallback:!0,children:["=",Object(m.jsx)("p",{children:"Loading..."}),Object(m.jsxs)(y.d,{children:[Object(m.jsx)(y.b,{path:"/",exact:!0,component:P}),Object(m.jsx)(L,{path:"/browse",component:G}),Object(m.jsx)(y.b,{path:"/sign-in",exact:!0,component:H}),Object(m.jsx)(y.b,{path:"/sign-up",exact:!0,component:R}),Object(m.jsx)(y.b,{path:"/forgot-password",component:J}),Object(m.jsx)(y.b,{path:"/edit-profile",component:Q}),Object(m.jsx)(L,{path:"/profile-blogs",exact:!0,component:F}),Object(m.jsx)(L,{path:"/profile-gallery",exact:!0,component:X}),Object(m.jsx)(L,{path:"/profile-following",exact:!0,component:Y}),Object(m.jsx)(L,{path:"/profile-followers",exact:!0,component:K}),Object(m.jsx)(L,{path:"/profile-saved",exact:!0,component:q}),Object(m.jsx)(L,{path:"/profile-blogs-new",exact:!0,component:V}),Object(m.jsx)(L,{path:"/profile-blogs/:id/edit",exact:!0,component:Z}),Object(m.jsx)(L,{path:"/profile/blogs/:id",component:_}),Object(m.jsx)(y.b,{path:"/:user/blogs/:id/",exact:!0,component:z})]})]})]})})},ee=function(e){e&&e instanceof Function&&c.e(9).then(c.bind(null,531)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;c(e),n(e),s(e),a(e),o(e)}))};o.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)($,{})}),document.getElementById("root")),ee()},64:function(e,t,c){"use strict";t.a=c.p+"static/media/logo3.7c17e91f.png"},7:function(e,t,c){"use strict";var n=c(56),s=c.n(n).a.create({baseURL:"https://auth-production-90d68-default-rtdb.firebaseio.com/"});t.a=s},72:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));c(2);var n=c(1);function s(e){return Object(n.jsx)("div",{className:"error",children:Object(n.jsx)("h4",{children:e.message})})}},75:function(e,t,c){"use strict";c.d(t,"a",(function(){return w}));var n=c(9),s=c(5),a=c.n(s),o=c(10),r=c(4),i=c(2),l=(c(512),c(11)),u=c.p+"static/media/img2.cca8c7c5.jpg",j=(c.p,c(14)),d=c(8),b=(c(25),c(39)),h=c(40),O=c(42),f=c(41),g=c(20),p=(c(513),c(7)),m=(c(514),c(1));function x(e){var t=Object(m.jsx)("p",{className:"content",children:e.content});return e.content.length>90&&(t=Object(m.jsxs)("p",{className:"content",children:[e.content.slice(0,89),"... ",Object(m.jsx)("span",{children:"Read more"})]})),Object(m.jsx)("div",{className:"cardContainer",children:Object(m.jsx)("a",{href:"my-blogs/".concat(e.id,"/"),children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h2",{children:e.title}),Object(m.jsxs)("h4",{children:["Written by: ",e.author]}),Object(m.jsxs)("p",{className:"date",children:["Posted on: ",e.date]}),t]})})})}var v=function(e){Object(O.a)(c,e);var t=Object(f.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this)).newPostHandler=function(){var e={author:s.state.author,date:s.state.date,content:s.state.content};p.a.post("/posts.json",e).then((function(e){return console.log(e),s.getData(),s.setState({author:"",date:"",content:""})})).catch((function(e){return console.log(e)}))},s.getData=function(){p.a.get("/posts.json").then((function(e){console.log(e.data);var t=[];for(var c in e.data)t.unshift(Object(n.a)(Object(n.a)({},e.data[c]),{},{id:c}));s.setState({posts:t})}))},s.state={posts:[],submitted:!1},console.log("constructor"),s}return Object(h.a)(c,[{key:"componentDidMount",value:function(){this.getData(),console.log("component did mount")}},{key:"render",value:function(){var e=this.state.posts.map((function(e){return Object(m.jsx)(x,{title:e.title,author:e.author,date:e.date,content:e.content,id:e.id},e.id)}));return Object(m.jsx)(g.a,{children:Object(m.jsxs)("div",{className:"blog",children:[Object(m.jsxs)("div",{className:"profile",children:[Object(m.jsx)("h5",{children:"Profile"}),Object(m.jsxs)("div",{className:"pic",children:[Object(m.jsx)("img",{}),"I am img"]}),Object(m.jsx)("p",{children:"User: Alex Chu"}),Object(m.jsx)("button",{children:"Account"}),Object(m.jsx)("button",{children:"Following"}),Object(m.jsx)("button",{children:"Settings"})]}),Object(m.jsxs)("div",{className:"posts",children:[Object(m.jsx)("h5",{children:"My Blogs"}),Object(m.jsx)("div",{className:"icon",children:Object(m.jsxs)("a",{href:"/profile/my-blogs/new",children:["New Blog",Object(m.jsx)("i",{className:"fas fa-plus"})]})}),Object(m.jsx)("div",{className:"blogs",children:e})]})]})})}}]),c}(i.Component),N=function(e){Object(O.a)(c,e);var t=Object(f.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return Object(h.a)(c,[{key:"render",value:function(){return Object(m.jsx)(g.a,{children:Object(m.jsx)(v,{})})}}]),c}(i.Component);c(515),i.Component,c(516);function w(){var e=Object(i.useState)(""),t=Object(r.a)(e,2),c=(t[0],t[1]),s=Object(l.b)(),b=s.currentUser,h=s.logout,O=Object(j.g)().history,f=Object(i.useState)([]),g=Object(r.a)(f,2),x=g[0],v=g[1],N=Object(i.useState)(""),w=Object(r.a)(N,2),y=w[0],S=w[1],k=Object(i.useState)(!1),C=Object(r.a)(k,2);C[0],C[1];function P(){return(P=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,h();case 4:window.location.reload(),O.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c("Failed to log out");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var A=Object(m.jsx)("h1",{children:"(Profile Name)"}),E=Object(m.jsx)("h2",{children:"(Location)"});y.length>0&&(y[0].name&&(A=Object(m.jsx)("h1",{children:y[0].name})),y[0].location&&(E=Object(m.jsx)("h2",{children:y[0].location}))),console.log(y);Object(i.useEffect)(Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("users/".concat(b.uid,"/blogs.json")).then((function(e){console.log(e.data);var t=[];for(var c in e.data)t.push(Object(n.a)(Object(n.a)({},e.data[c]),{},{id:c}));console.log(t),v(t)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,p.a.get("users/".concat(b.uid,"/profile.json")).then((function(e){console.log(e.data);var t=[];for(var c in e.data)t.unshift(Object(n.a)(Object(n.a)({},e.data[c]),{},{id:c}));S(t)})).catch((function(e){return console.log(e)}));case 4:console.log(y),console.log(y[0]);case 6:case"end":return e.stop()}}),e)}))),[]);var D=u,_=0,I=0;if(y&&y.length>0){if(y[0].images)D=Object.values(y[0].images)[0].imageUrl;if(y[0].following)_=Object.keys(y[0].following).length;if(y[0].followers)I=Object.keys(y[0].followers).length}console.log(D),console.log(_);var R="";return x&&(R=x.length),Object(m.jsxs)("div",{className:"containers",children:[Object(m.jsxs)("div",{className:"profile-page",children:[Object(m.jsx)("div",{className:"profilePic",children:Object(m.jsx)("picture",{className:"profile-pic",children:Object(m.jsx)("img",{src:D})})}),Object(m.jsxs)("div",{className:"user-details",children:[Object(m.jsxs)("div",{className:"display",children:[A,E]}),Object(m.jsxs)("div",{className:"count",children:[Object(m.jsx)(d.b,{to:"/profile-blogs",children:Object(m.jsxs)("p",{children:["Posts: ",R]})}),Object(m.jsx)(d.b,{to:"/profile-followers",children:Object(m.jsxs)("p",{className:"followers",children:["Followers: ",I]})}),Object(m.jsx)(d.b,{to:"/profile-following",children:Object(m.jsxs)("p",{className:"following",children:["Following: ",_]})})]})]}),Object(m.jsxs)("div",{className:"links",children:[Object(m.jsx)("button",{children:Object(m.jsx)(d.b,{to:"/edit-profile",children:"Edit Profile"})}),Object(m.jsx)("button",{children:Object(m.jsx)(d.b,{to:"/",onClick:function(){return P.apply(this,arguments)},children:"Log out"})})]})]}),Object(m.jsx)("div",{className:"underline2",children:Object(m.jsx)("div",{className:"shadow2"})})]})}},77:function(e,t,c){"use strict";t.a=c.p+"static/media/img1.03faf828.jpg"},88:function(e,t,c){"use strict";var n=c(9),s=c(4),a=c(2),o=c(25);t.a=function(e){var t=Object(a.useState)([]),c=Object(s.a)(t,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){var t=o.b.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(n.a)(Object(n.a)({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return t()}}),[e]),{docs:r}}}},[[519,1,2]]]);
//# sourceMappingURL=main.00c30400.chunk.js.map