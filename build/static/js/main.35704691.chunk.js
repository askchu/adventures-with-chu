(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{10:function(e,t,c){"use strict";c.d(t,"b",(function(){return l})),c.d(t,"a",(function(){return j}));var n=c(4),s=c(2),a=c.n(s),r=c(26),i=c(1),o=a.a.createContext();function l(){return Object(s.useContext)(o)}function j(e){var t=e.children,c=Object(s.useState)(),a=Object(n.a)(c,2),l=a[0],j=a[1],u=Object(s.useState)(!0),d=Object(n.a)(u,2),b=d[0],h=d[1];Object(s.useEffect)((function(){return r.a.onAuthStateChanged((function(e){j(e),h(!1)}))}),[]);var O={currentUser:l,register:function(e,t){return r.a.createUserWithEmailAndPassword(e,t)},login:function(e,t){return r.a.signInWithEmailAndPassword(e,t)},logout:function(){return r.a.signOut()},resetPassword:function(e){return r.a.sendPasswordResetEmail(e)},updateProfile:function(e,t){return l.updateProfile({email:e,password:t}).then((function(e){})).catch((function(e){console.log(e)}))}};return Object(i.jsx)(o.Provider,{value:O,children:!b&&t})}},112:function(e,t,c){"use strict";c.d(t,"a",(function(){return b}));var n=c(2),s=c(5),a=c.n(s),r=c(11),i=c(4),o=c(26),l=c(10),j=c(6),u=function(e,t){var c=Object(n.useState)(0),s=Object(i.a)(c,2),u=s[0],d=s[1],b=Object(n.useState)(null),h=Object(i.a)(b,2),O=h[0],f=h[1],m=Object(n.useState)(null),p=Object(i.a)(m,2),x=p[0],g=p[1],v=Object(l.b)().currentUser,N=v.uid;return Object(n.useEffect)((function(){var c=o.c.ref(e.name),n=o.b.collection(N),s=new Date,i=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()],l=String(s.getDate()).padStart(2,"0");s.getFullYear();c.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;d(t)}),(function(e){f(e)}),Object(r.a)(a.a.mark((function e(){var s,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getDownloadURL();case 2:return s=e.sent,r=Object(o.d)(),n.add({url:s,createdAt:r}),g(s),i={imageUrl:s,description:""},e.next=9,j.a.post("users/".concat(v.uid,"/drafts/").concat(t,"/images.json"),i).then((function(e){})).catch((function(e){return console.log(e)}));case 9:case"end":return e.stop()}}),e)}))))}),[e]),{progress:u,url:x,error:O}},d=(c(183),c(1));function b(e){var t=e.file,c=e.setFile,s=e.id,a=e.setId,r=u(t,s),i=r.url,o=r.progress;return Object(n.useEffect)((function(){i&&c(null)}),[i,c,a]),Object(d.jsx)("div",{className:"progress-bar",style:{width:o+"%"}})}},113:function(e,t,c){"use strict";c.d(t,"a",(function(){return x}));var n=c(52),s=c(9),a=c(5),r=c.n(a),i=c(11),o=c(4),l=c(2),j=(c(184),c(10)),u=c(14),d=c(112),b=c(74),h=c(6),O=c(175),f=c(117),m=c(176),p=(c(25),c(1));function x(){var e=Object(l.useRef)(),t=Object(l.useRef)(),c=Object(l.useRef)(),a=Object(j.b)(),x=a.currentUser,g=(a.updateProfile,Object(l.useState)("")),v=Object(o.a)(g,2),N=v[0],w=v[1],S=Object(l.useState)(null),y=Object(o.a)(S,2),k=y[0],C=y[1],P=Object(b.a)(x.uid).docs,A=Object(u.g)(),E=Object(l.useState)([]),D=Object(o.a)(E,2),_=D[0],I=D[1],R=Object(l.useState)(""),U=Object(o.a)(R,2),T=(U[0],U[1]),B=Object(l.useState)(null),F=Object(o.a)(B,2),M=F[0],L=F[1],W=Object(l.useState)(null),J=Object(o.a)(W,2),H=J[0],q=J[1],G=Object(l.useState)(null),z=Object(o.a)(G,2),Y=z[0],K=z[1],V=Object(l.useState)(null),X=Object(o.a)(V,2),Q=X[0],Z=X[1],$=Object(l.useState)(null),ee=Object(o.a)($,2),te=ee[0],ce=ee[1],ne=Object(l.useState)(!1),se=Object(o.a)(ne,2),ae=se[0],re=se[1],ie=Object(O.a)(P,_.id,Q,te).datas,oe=function(){var e=Object(i.a)(r.a.mark((function e(t){var c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=["image/png","image/jpeg"],n=t.target.files[0],0,_.length>1&&_.length-1,n&&c.includes(n.type)?(C(n),T(_.id),w("")):(C(null),T(""),w("Please select an image file (png or jpeg)"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=new Date,je=["January","February","March","April","May","June","July","August","September","October","November","December"][le.getMonth()],ue=String(le.getDate()).padStart(2,"0"),de=le.getFullYear(),be="".concat(je," ").concat(ue,"/").concat(de),he=Object(l.useState)(!1),Oe=Object(o.a)(he,2),fe=(Oe[0],Oe[1],[]);!0===ae&&(fe=Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&re(!1)},children:Object(p.jsxs)("div",{className:"options",children:[Object(p.jsx)("h2",{children:"Save to Drafts?"}),Object(p.jsxs)("div",{className:"actions",children:[Object(p.jsx)("button",{onClick:function(){var e={title:t.current.value,content:c.current.value};pe(_.id,e),A.push("/profile-blogs")},children:"Yes"}),Object(p.jsx)("button",{onClick:function(){h.a.request({method:"delete",url:"users/".concat(x.uid,"/images/").concat(be,"/").concat(_.id,".json")}).then((function(e){})).catch((function(e){return console.log(e)})),h.a.request({method:"delete",url:"users/".concat(x.uid,"/count/").concat(_.id,".json")}).then((function(e){})).catch((function(e){return console.log(e)})),A.push("/profile-blogs")},children:"No"})]})]})})}));var me=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("users/".concat(x.uid,"/count.json")).then((function(e){var t=[];for(var c in e.data)t.push(Object(s.a)(Object(s.a)({},e.data[c]),{},{id:c}));var n=0;t.length>1&&(n=t.length-1),I(t[n])})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(e,t){h.a.post("users/".concat(x.uid,"/drafts/").concat(e,"/content.json"),t).then((function(e){})).catch((function(e){return console.log(e)})),h.a.request({method:"delete",url:"users/".concat(x.uid,"/count/").concat(_.id,".json")}).then((function(e){})).catch((function(e){return console.log(e)}))};Object(l.useEffect)(Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.scrollTo(0,0),me();case 2:case"end":return e.stop()}}),e)}))),[]);var xe="/".concat(x.uid,"/images/").concat(be,"/").concat(_.id,"/").concat(H,".json");return Object(p.jsxs)("div",{className:"container-add",children:[Object(p.jsxs)("div",{className:"title",children:[Object(p.jsx)("h1",{children:"New Blog"}),Object(p.jsx)("button",{onClick:function(){re(!0)},children:"Back"})]}),Object(p.jsxs)("form",{className:"newBlog",children:[Object(p.jsxs)("div",{className:"newBlog-input",children:[Object(p.jsx)("label",{children:"Title "}),Object(p.jsx)("input",{type:"text",ref:t})]}),Object(p.jsxs)("div",{className:"newBlog-input",children:[Object(p.jsx)("label",{children:"Images "}),Object(p.jsxs)("div",{className:"inputFile",children:[Object(p.jsx)("input",{type:"file",onChange:oe,ref:e}),Object(p.jsx)("span",{children:Object(p.jsx)("i",{className:"fas fa-plus"})})]}),Object(p.jsx)("h4",{children:"Click on any image to edit and add a description"}),Object(p.jsxs)("div",{className:"output",children:[N&&Object(p.jsx)("div",{className:"errors",children:N}),k&&k.name,k&&Object(p.jsx)(d.a,{file:k,setFile:C,id:_.id,setId:T})]})]}),Object(p.jsx)(f.a,{data:ie,setSelectedImg:L,setSelectedId:q,setSelectedDescription:K}),Object(p.jsxs)("div",{className:"newBlog-input",children:[Object(p.jsx)("label",{children:"Content "}),Object(p.jsx)("textarea",{rows:"20",cols:"100",placeholder:"Start writing here...",ref:c})]}),Object(p.jsx)("div",{className:"newBlog-post",children:Object(p.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var s={date:be,title:t.current.value,content:c.current.value};h.a.post("users/".concat(x.uid,"/blogs/").concat(_.id,"/content.json"),s).then((function(e){})).catch((function(e){return console.log(e)}));var a,r=Object(n.a)(ie);try{for(r.s();!(a=r.n()).done;){var i=a.value;h.a.post("users/".concat(x.uid,"/blogs/").concat(_.id,"/images.json"),i).then((function(e){})).catch((function(e){return console.log(e)}))}}catch(o){r.e(o)}finally{r.f()}h.a.request({method:"delete",url:"users/".concat(x.uid,"/drafts/").concat(_.id,".json")}).then((function(e){})).catch((function(e){return console.log(e)})),A.push("/profile-blogs")},children:"Post"})})]}),fe,M&&Object(p.jsx)(m.a,{selectedImg:M,setSelectedImg:L,selectedId:H,setSelectedId:q,selectedDescription:Y,setSelectedDescription:K,count:_.id,savedDescription:Z,deletedImage:ce,deletedImageUrl:xe})]})}},117:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));c(2),c(6),c(74),c(10);var n=c(182),s=c(1);function a(e){var t=e.data,c=e.setSelectedImg,a=e.setSelectedId,r=e.setSelectedDescription;e.imageDraft;return Object(s.jsx)("div",{className:"img-grid",children:t&&t.map((function(e){return Object(s.jsx)(n.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},onClick:function(){return t=e.imageUrl,n=e.id,s=e.description,c(t),a(n),void r(s);var t,n,s},children:Object(s.jsx)(n.a.img,{src:e.imageUrl,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2}})},e.id)}))})}},118:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));c(2);var n=c(1);function s(e){var t=e.selectedImg,c=e.setSelectedImg;return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&c(null)},children:Object(n.jsx)("img",{src:t,alt:"enlarged pic"})})})}},175:function(e,t,c){"use strict";c.d(t,"a",(function(){return u}));var n=c(5),s=c.n(n),a=c(9),r=c(11),i=c(4),o=c(2),l=c(10),j=c(6);function u(e,t,c,n,u){var d=Object(o.useState)(null),b=Object(i.a)(d,2),h=b[0],O=b[1],f=Object(l.b)().currentUser,m=new Date,p=["January","February","March","April","May","June","July","August","September","October","November","December"][m.getMonth()],x=String(m.getDate()).padStart(2,"0");m.getFullYear();return Object(o.useEffect)(Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],e.next=3,j.a.get("users/".concat(f.uid,"/drafts/").concat(t,"/images.json")).then((function(e){var t=[];for(var c in e.data)t.unshift(Object(a.a)(Object(a.a)({},e.data[c]),{},{id:c}));O(t)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),[e,c,n,u]),{datas:h}}},176:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(2),s=c(6),a=c(10),r=c(14),i=(c(57),c(1));function o(e){var t=e.selectedImg,c=e.setSelectedImg,o=e.selectedId,l=e.setSelectedId,j=e.selectedDescription,u=e.setSelectedDescription,d=e.count,b=e.savedDescription,h=e.deletedImage,O=(e.deletedImageUrl,Object(a.b)().currentUser),f=Object(n.useRef)(),m=(Object(r.g)(),new Date),p=["January","February","March","April","May","June","July","August","September","October","November","December"][m.getMonth()],x=String(m.getDate()).padStart(2,"0");m.getFullYear();console.log(o);return Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("div",{className:"backdrop2",onClick:function(e){e.target.classList.contains("backdrop2")&&(c(null),l(null),u(null),b(null))},children:Object(i.jsxs)("div",{className:"content",children:[Object(i.jsx)("img",{src:t,alt:"enlarged pic"}),Object(i.jsxs)("div",{className:"modal-form",children:[Object(i.jsx)("label",{children:"Description"}),Object(i.jsx)("textarea",{ref:f,value:j,onChange:function(e){return u(e.target.value)}}),Object(i.jsx)("button",{onClick:function(e){var n={description:f.current.value,imageUrl:t};console.log(n),function(e){s.a.request({method:"put",url:"users/".concat(O.uid,"/drafts/").concat(d,"/images/").concat(o,".json"),data:e}).then((function(t){console.log(t),b(e.description)})).catch((function(e){return console.log(e)}))}(n),c(null),e.preventDefault(),console.log("saved description of ".concat(n.description))},children:"Save"}),Object(i.jsx)("button",{className:"delete",onClick:function(e){s.a.request({method:"delete",url:"users/".concat(O.uid,"/drafts/").concat(d,"/images/").concat(o,".json")}).then((function(e){console.log(e),console.log("".concat(o," image is deleted")),h("".concat(o," deleted"))})).catch((function(e){return console.log(e)})),c(null),e.preventDefault()},children:"Delete"})]})]})})})}},177:function(e,t,c){},183:function(e,t,c){},184:function(e,t,c){},188:function(e,t,c){},189:function(e,t,c){},20:function(e,t,c){"use strict";t.a=function(e){return e.children}},207:function(e,t,c){},209:function(e,t,c){},210:function(e,t,c){},213:function(e,t,c){},218:function(e,t,c){},219:function(e,t,c){},25:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));c(2),c(210);var n=c(1);function s(){return Object(n.jsx)("footer",{children:Object(n.jsx)("div",{className:"footer",children:Object(n.jsxs)("h4",{children:["\xa9 ",(new Date).getFullYear()," Copyright: Adventures With Chu"]})})})}},26:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"c",(function(){return r})),c.d(t,"b",(function(){return i})),c.d(t,"d",(function(){return o}));var n=c(58),s=(c(211),c(524),c(525),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH_DOMAIN:"adventures-with-chu.firebaseapp.com",REACT_APP_DEV_MODE:"This is a development mode",REACT_APP_FIREBASE_API_KEY:"AIzaSyAcXviWG__c4FPjSVRKCMtIB2s4RH-FJ3s",REACT_APP_GNEWS:"a5869a44b211015aab3d89a6de6d3ad4",REACT_APP_ID:"1:435747095783:web:87480d1bac6dcb26398e42",REACT_APP_MESSAGING_SENDER_ID:"435747095783",REACT_APP_NEWSAPI:"1b2cf9f17cb94f8fbb7fd0f5fd2ff074",REACT_APP_PROJECT_ID:"adventures-with-chu",REACT_APP_STORAGE_BUCKET:"adventures-with-chu.appspot.com"})),a={apiKey:s.REACT_APP_FIREBASE_API_KEY,authDomain:s.REACT_APP_AUTH_DOMAIN,projectId:s.REACT_APP_PROJECT_ID,storageBucket:s.REACT_APP_STORAGE_BUCKET,messagingSenderId:s.REACT_APP_MESSAGING_SENDER_ID,appId:s.REACT_APP_ID};n.a.initializeApp(a);var r=n.a.storage(),i=n.a.firestore(),o=n.a.firestore.FieldValue.serverTimestamp,l=n.a.auth()},514:function(e,t,c){},515:function(e,t,c){},516:function(e,t,c){},517:function(e,t,c){},518:function(e,t,c){},519:function(e,t,c){},520:function(e,t,c){},521:function(e,t,c){},522:function(e,t,c){},523:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(43),r=c.n(a),i=(c(188),c(5)),o=c.n(i),l=c(9),j=c(11),u=c(4),d=(c(189),c(52)),b=c(32),h=c(33),O=c(35),f=c(34),m=c(57),p=c.n(m),x=c(20),g=(c(207),c(1));function v(e){var t=Object(g.jsx)("p",{children:e.description});e.description.length>120&&(t=Object(g.jsxs)("p",{children:[e.description.slice(0,119),"...",Object(g.jsx)("span",{children:Object(g.jsx)("a",{href:e.url,target:"__blank",children:" Read More."})})]}));e.author;e.author;var c="";return e.img&&(c=Object(g.jsxs)(x.a,{children:[Object(g.jsx)("div",{className:"newsPic",style:{background:"url(".concat(e.img,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),Object(g.jsxs)("div",{className:"summary",children:[Object(g.jsx)("h4",{children:e.title}),t]})]})),null==e.img&&(c=Object(g.jsxs)("div",{className:"summary",children:[Object(g.jsx)("h4",{children:e.title}),t]})),Object(g.jsx)("div",{className:"news",children:c})}c(209);var N=function(e){Object(O.a)(c,e);var t=Object(f.a)(c);function c(e){var n;return Object(b.a)(this,c),(n=t.call(this)).state={news:[]},n}return Object(h.a)(c,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://gnews.io/api/v4/search?q=news&max=3&lang=en&token=".concat("a5869a44b211015aab3d89a6de6d3ad4")).then((function(t){var c,n=[],s=Object(d.a)(t.data.articles);try{for(s.s();!(c=s.n()).done;){var a=c.value;n.push({content:a.content,description:a.description,image:a.image,date:a.publishedAt,source:a.source,title:a.title,url:a.url})}}catch(r){s.e(r)}finally{s.f()}e.setState({news:n})}))}},{key:"render",value:function(){var e=this.state.news.map((function(e){return Object(g.jsx)(v,{title:e.title,description:e.content,url:e.url,img:e.image},e.date)}));return Object(g.jsx)("div",{className:"worldNews",children:e})}}]),c}(n.Component),w=c(6),S=c(25),y=c(14),k=c(8),C=c(10),P=(c(112),c(63));c(213),n.Component;var A=function(){var e=Object(C.b)().currentUser,t=Object(n.useState)([]),c=Object(u.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(""),i=Object(u.a)(r,2),d=i[0],b=i[1],h=Object(n.useState)([]),O=Object(u.a)(h,2),f=O[0],m=O[1],p=(Object(y.g)().history,function(){var t=Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("/users/".concat(e.uid,".json")).then((function(e){var t=[];t.push(Object(l.a)({},e.data)),a(t),b("logged in")})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),x=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=4;break}if(!(Object.keys(s).length>0)){e.next=4;break}return e.delegateYield(o.a.mark((function e(){var t,c,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.values(s[0].profile),c=Object.values(t[0].following),n=[],a=o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/users/".concat(c[t].id,".json")).then((function(e){n.push(Object(l.a)(Object(l.a)({},e.data),{},{id:c[t].id}))})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})),r=0;case 5:if(!(r<c.length)){e.next=10;break}return e.delegateYield(a(r),"t0",7);case 7:r++,e.next=5;break;case 10:n.length>0&&m(n);case 11:case"end":return e.stop()}}),e)}))(),"t0",4);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(t){window.scrollTo(0,0),e&&p(),s&&x()}),[d]);var v=Object(g.jsx)("div",{}),A=Object(g.jsx)("div",{}),E=[],D=[];f&&f.length>0&&(f.map((function(e){for(var t=Object.keys(e.blogs),c=[],n=0;n<t.length;n++)c.push({id:t[n],content:e.blogs[t[n]].content,images:e.blogs[t[n]].images});var s=e.id,a=Object.values(e.profile);E.push({blogs:c,profileName:a[0].name,profilePic:a[0].images,id:s})})),E.map((function(e){e.blogs.forEach((function(t){D.unshift({content:t.content,images:t.images,blogId:t.id,userId:e.id,profileName:e.profileName,profilePic:e.profilePic})}))})),v=D.map((function(e){e.profileName;var t=Object.keys(e.content),c="".concat(e.userId,"/blogs/").concat(e.blogId),n=Object.values(e.content),s=Object(g.jsx)("div",{});if(e.images){var a=Object.values(e.images);s=Object(g.jsx)("div",{className:"image",children:Object(g.jsx)("img",{src:a[0].imageUrl})})}var r=Object(g.jsx)("img",{src:P.a});if(e.profilePic){var i=Object.values(e.profilePic);r=Object(g.jsx)("img",{src:i[0].imageUrl})}return Object(g.jsxs)("div",{className:"blogs",children:[Object(g.jsxs)("div",{className:"following",children:[Object(g.jsx)("div",{className:"profilePic",children:r}),Object(g.jsxs)("div",{className:"profileContent",children:[Object(g.jsx)("h2",{children:e.profileName}),Object(g.jsx)("p",{children:n[0].date})]})]}),Object(g.jsx)("h4",{children:n[0].title}),s,Object(g.jsx)(k.b,{to:c,children:Object(g.jsx)("button",{children:"Read Blog"})})]},t[0])})));var _=Object(g.jsx)("div",{});return e&&(f.length>0&&(A=Object(g.jsxs)("div",{className:"featured",children:[Object(g.jsx)("h3",{className:"featuredH3",children:"Recent Posts"}),Object(g.jsx)("div",{className:"featuredBlogs",children:v})]})),f.length<1&&(_=Object(g.jsx)("div",{className:"logo",children:Object(g.jsxs)("div",{className:"brief",children:[Object(g.jsx)("h1",{children:"Welcome to Adventures with Chu"}),Object(g.jsx)("h3",{children:"Start blogging and share with everyone."})]})}))),e||(_=Object(g.jsx)("div",{className:"logo",children:Object(g.jsxs)("div",{className:"brief",children:[Object(g.jsx)("h1",{children:"Welcome to Adventures with Chu"}),Object(g.jsx)("h3",{children:"Start blogging and share with everyone."})]})})),Object(g.jsxs)("div",{className:"home",children:[_,Object(g.jsxs)("main",{className:"containers welcome",children:[Object(g.jsxs)("div",{className:"intro",children:[A,Object(g.jsx)("div",{className:"underline",children:Object(g.jsx)("div",{className:"shadow"})})]}),Object(g.jsx)("div",{className:"logo2",children:Object(g.jsxs)("div",{className:"brief2",children:[Object(g.jsx)("h1",{children:"Come check other blogs!"}),Object(g.jsx)("button",{children:Object(g.jsx)(k.b,{to:"/browse",children:"Browse"})})]})}),Object(g.jsx)("div",{className:"underline",children:Object(g.jsx)("div",{className:"shadow"})}),Object(g.jsxs)("div",{className:"new",children:[Object(g.jsx)("h3",{children:"What's Happening Around the World"}),Object(g.jsx)(N,{})]})]}),Object(g.jsx)(S.a,{})]})};c(218),c(219);var E=c.p+"static/media/logo1.24b6b22e.png",D=c(66);c(220);var _=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(u.a)(a,2),i=(r[0],r[1]),l=Object(n.useState)(""),d=Object(u.a)(l,2),b=(d[0],d[1]),h=Object(C.b)(),O=h.currentUser,f=h.logout,m=function(){return s(!1)},p=Object(y.g)().history,v=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(""),e.next=4,f();case 4:window.location.reload(),p.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b("Failed to log out");case 11:m();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),N=Object(g.jsxs)("ul",{className:c?"nav-menu active":"nav-menu",children:[Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(k.b,{to:"/",className:"nav-links",onClick:m,children:"Home"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(k.b,{to:"/browse",className:"nav-links",onClick:m,children:"Browse"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(k.b,{to:"/sign-in",className:"nav-links",onClick:m,children:"Sign In"})})]});return O&&(N=Object(g.jsxs)("ul",{className:c?"nav-menu active":"nav-menu",children:[Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(k.b,{to:"/",className:"nav-links",onClick:m,children:"Home"})}),Object(g.jsx)("li",{className:"nav-item",onMouseEnter:function(){window.innerWidth<960?i(!1):i(!0)},onMouseLeave:function(){window.innerWidth,i(!1)},children:Object(g.jsx)(k.b,{to:"/profile-blogs",className:"nav-links",onClick:m,children:"Profile"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(k.b,{to:"/browse",className:"nav-links",onClick:m,children:"Browse"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(k.b,{to:"/",className:"nav-links",onClick:v,children:"Log Out"})})]})),Object(g.jsx)(x.a,{children:Object(g.jsxs)("nav",{className:"navbar",children:[Object(g.jsx)("div",{className:"imgContainer",children:Object(g.jsx)("img",{className:"img1",src:E})}),Object(g.jsx)("div",{className:"menu-icon",onClick:function(){return s(!c)},children:Object(g.jsx)("div",{className:c?"fas fa-times":"fas fa-bars"})}),N]})})},I=(c(514),c(113));c(177);function R(){var e=Object(y.h)().id,t=Object(C.b)().currentUser,c=Object(y.g)(),s=Object(n.useState)([]),a=Object(u.a)(s,2),r=a[0],i=a[1],l=Object(n.useState)([]),d=Object(u.a)(l,2),b=d[0],h=d[1],O=Object(n.useState)(""),f=Object(u.a)(O,2),m=f[0],p=f[1];Object(n.useEffect)(Object(j.a)(o.a.mark((function c(){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return window.scrollTo(0,0),c.next=3,w.a.get("users/".concat(t.uid,"/blogs/").concat(e,".json")).then((function(e){var t=[],c=[];t.push({content:e.data.content}),e.data.images&&(c.push({images:e.data.images}),h(c)),i(t)})).catch((function(e){return console.log(e)}));case 3:return c.next=5,w.a.get("users/".concat(t.uid,"/profile.json")).then((function(e){var t=Object.values(e.data);p(t[0].name)})).catch((function(e){return console.log(e)}));case 5:case"end":return c.stop()}}),c)}))),[]);var x="",v="",N="";if(r.length>0){var S=r[0].content,k=Object.keys(S);x=S[k].title,v=S[k].content,N=S[k].date}var P=Object(g.jsx)("div",{}),A=Object(g.jsx)("div",{}),E=[],D="";if(b.length>0){D=Object.values(b[0].images);for(var _=0;_<D.length;_++)E.push({id:D[_].id,imageUrl:D[_].imageUrl,description:D[_].description});P=E.map((function(e){return e.description?Object(g.jsxs)("div",{className:"img",children:[Object(g.jsx)("img",{src:e.imageUrl}),Object(g.jsx)("p",{children:e.description})]}):e.description?void 0:Object(g.jsx)("div",{className:"noDesc",children:Object(g.jsx)("img",{src:e.imageUrl})})})),A=Object(g.jsxs)("div",{className:"gallery",children:[Object(g.jsx)("h4",{children:"Gallery"}),Object(g.jsx)("div",{className:"img-grid",children:P})]})}return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)("div",{className:"showBlog",children:[Object(g.jsxs)("header",{children:[Object(g.jsx)("h2",{children:x}),Object(g.jsxs)("h4",{children:["Author: ",m," "]}),Object(g.jsxs)("h4",{children:["Posted: ",N]})]}),A,Object(g.jsx)("div",{className:"synopsis",children:Object(g.jsx)("p",{children:v})})]}),Object(g.jsxs)("div",{className:"backButton",children:[Object(g.jsx)("button",{onClick:function(){return c.goBack()},children:"Back"}),Object(g.jsx)("button",{onClick:function(){return console.log("delete post"),w.a.request({method:"delete",url:"users/".concat(t.uid,"/blogs/").concat(e,".json")}).then((function(e){})).catch((function(e){return console.log(e)})),void c.goBack()},children:"Delete"})]})]})}c(515);var U=c(75);function T(){Object(n.useRef)();var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(C.b)(),a=s.register,r=(s.currentUser,Object(n.useState)("")),i=Object(u.a)(r,2),l=i[0],d=i[1],b=Object(n.useState)(!1),h=Object(u.a)(b,2),O=h[0],f=h[1],m=Object(y.g)();function p(){return(p=Object(j.a)(o.a.mark((function n(s){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),console.log(e.current.value),console.log(t.current.value),t.current.value===c.current.value){n.next=5;break}return n.abrupt("return",d("Passwords do not match"));case 5:return n.prev=5,d(""),f(!0),n.next=10,a(e.current.value,t.current.value);case 10:console.log("Account created..."),m.push("/profile-blogs"),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(5),d("Failed to create an account, ".concat(n.t0));case 17:f(!1);case 18:case"end":return n.stop()}}),n,null,[[5,14]])})))).apply(this,arguments)}return Object(g.jsxs)("div",{className:"general",children:[Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"signUp",children:[Object(g.jsx)("figure",{children:Object(g.jsx)("img",{src:D.a,alt:"adventures with chu"})}),Object(g.jsx)("h1",{children:"Register"}),l&&Object(g.jsx)(U.a,{message:l}),Object(g.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(g.jsxs)("div",{className:"input-form",children:[Object(g.jsx)("label",{children:"Email Address"}),Object(g.jsx)("input",{type:"email",required:!0,ref:e})]}),Object(g.jsxs)("div",{className:"input-form",children:[Object(g.jsx)("label",{children:"Password"}),Object(g.jsx)("input",{type:"password",required:!0,ref:t,minLength:"6",autoComplete:"off"})]}),Object(g.jsxs)("div",{className:"input-form",children:[Object(g.jsx)("label",{children:"Confirm Password"}),Object(g.jsx)("input",{type:"password",required:!0,ref:c,minLength:"6",autoComplete:"off"})]}),Object(g.jsx)("button",{disabled:O,type:"submit",className:"button",children:"Sign Up"})]}),Object(g.jsx)("div",{className:"login",children:Object(g.jsxs)("p",{children:["Have an account? ",Object(g.jsx)("span",{children:Object(g.jsx)("a",{href:"/sign-in",children:"Log in"})})]})})]})}),Object(g.jsx)(S.a,{})]})}var B=c(64);c(520);function F(){var e,t=Object(n.useState)(!1),c=Object(u.a)(t,2),s=c[0],a=c[1],r=Object(C.b)().currentUser,i=Object(n.useState)([]),b=Object(u.a)(i,2),h=b[0],O=b[1],f=Object(n.useState)([]),m=Object(u.a)(f,2),p=(m[0],m[1],Object(n.useState)([])),v=Object(u.a)(p,2),N=(v[0],v[1]),S=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(1),r=Object(u.a)(a,2),i=r[0],o=(r[1],Object(C.b)().currentUser);return Object(n.useEffect)((function(){var e={count:"".concat(i)};w.a.post("users/".concat(o.uid,"/count.json"),e).then((function(e){var t=[];for(var c in e.data)t.push(Object(l.a)(Object(l.a)({},e.data),{},{count:i,name:e.data.name}));s(t)})).catch((function(e){return console.log(e)}))}),[]),{info:c}}().info,y=function(){},P="",A=[],E=(h.map((function(e){A.unshift(e.id)})),h.includes("title"),Object(n.useState)([])),D=Object(u.a)(E,2),_=D[0],I=D[1];e=h.map((function(e){var t=e.content,c="";e.content&&(c=Object.keys(t));var n="/profile-blogs/".concat(e.id,"/edit");if(e.content)if(""==t[c].title){var s=A.indexOf(e.id)+1;P=Object(g.jsx)("li",{children:Object(g.jsxs)(k.b,{to:n,children:["Draft #",s]})},e.id)}else P=Object(g.jsx)("li",{children:Object(g.jsx)(k.b,{to:n,children:t[c].title})},e.id);return Object(g.jsx)("ul",{children:P})}));var R=_.map((function(e){var t=e.content,c="";e.content&&(c=Object.keys(t));var n="",s="";if(e.images)for(var a=0;a<1;a++)s=(n=e.images)[Object.keys(n)[a]].imageUrl;var r="",i="/profile/blogs/".concat(e.id);return e.images||(r=Object(g.jsx)(k.b,{to:i,children:Object(g.jsxs)("div",{className:"card",children:[Object(g.jsx)("h2",{children:t[c].title}),Object(g.jsx)("div",{className:"info",children:Object(g.jsx)("p",{children:t[c].date})}),Object(g.jsx)("p",{children:t[c].content})]})},e.id)),e.images&&(r=Object(g.jsx)(k.b,{to:i,children:Object(g.jsxs)("div",{className:"cardWithImg",children:[Object(g.jsx)("h2",{children:t[c].title}),Object(g.jsx)("p",{children:t[c].date}),Object(g.jsxs)("div",{className:"details",children:[Object(g.jsx)("div",{className:"img",children:Object(g.jsx)("img",{src:s})}),Object(g.jsx)("div",{className:"info",children:Object(g.jsx)("p",{children:t[c].content})})]})]})},e.id)),Object(g.jsx)("div",{className:"perBlog",children:r},e.id)})),U=[];U=0===h.length&&0===_.length?Object(g.jsx)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",textAlign:"center",width:"100%",maxWidth:"300px",margin:"40px auto",padding:"10px",border:"1px solid #111",boxShadow:"2px 2px 2px #1115"},children:Object(g.jsxs)(k.b,{to:"profile-blogs-new",children:[Object(g.jsx)("p",{onClick:y,style:{fontSize:"1.5rem"},children:"Create your first blog!"}),Object(g.jsx)("i",{className:"fas fa-plus",style:{marginBottom:"20px",fontSize:"1.2rem"}})]})}):Object(g.jsxs)(x.a,{children:[Object(g.jsxs)("div",{className:"mainTabs",children:[Object(g.jsx)("div",{className:"newPost",children:Object(g.jsx)("button",{onClick:y,children:Object(g.jsx)(k.b,{to:"profile-blogs-new",children:Object(g.jsx)("i",{className:"fas fa-plus"})})})}),Object(g.jsx)("div",{className:"posts",children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("h3",{onClick:function(){a(1!=s)},children:["Drafts (",h.length,")"]}),s&&e]})})]}),Object(g.jsx)("div",{className:"showBlogs",children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("h3",{children:["Blogs (",_.length,")"]}),Object(g.jsx)("div",{className:"blog-grid",children:R})]})})]});var T=Object(n.useState)([]),F=Object(u.a)(T,2),M=F[0],L=F[1],W=[];if(M.length>0){var J,H=Object(d.a)(M);try{for(H.s();!(J=H.n()).done;){var q=J.value;W.push(q.id)}}catch(Y){H.e(Y)}finally{H.f()}for(var G=W.length-1,z=0;z<G;z++)w.a.request({method:"delete",url:"users/".concat(r.uid,"/count/").concat(W[z],".json")}).then((function(e){})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)(function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,w.a.get("users/".concat(r.uid,"/drafts.json")).then((function(e){var t=[];for(var c in e.data)t.unshift(Object(l.a)(Object(l.a)({},e.data[c]),{},{id:c}));O(t)})).catch((function(e){return console.log(e)}));case 3:return e.next=5,w.a.get("users/".concat(r.uid,"/profile.json")).then((function(e){var t=[];for(var c in e.data)t.unshift(Object(l.a)(Object(l.a)({},e.data[c]),{},{id:c}));N(t)})).catch((function(e){return console.log(e)}));case 5:return e.next=7,w.a.get("users/".concat(r.uid,"/count.json")).then((function(e){var t=[];for(var c in e.data)t.push({id:c});L(t)})).catch((function(e){return console.log(e)}));case 7:return e.next=9,w.a.get("users/".concat(r.uid,"/blogs.json")).then((function(e){var t=[];for(var c in e.data)t.unshift(Object(l.a)(Object(l.a)({},e.data[c]),{},{id:c}));I(t)})).catch((function(e){return console.log(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[S]),Object(g.jsxs)("div",{className:"profile",children:[Object(g.jsx)(B.a,{}),Object(g.jsx)("main",{children:Object(g.jsx)("div",{className:"userContent",children:Object(g.jsxs)("div",{className:"tags",children:[Object(g.jsx)("p",{children:Object(g.jsxs)(k.b,{to:"profile-blogs",children:[Object(g.jsx)("i",{className:"fas fa-scroll"}),"Blogs"]})}),Object(g.jsx)("p",{children:Object(g.jsxs)(k.b,{to:"profile-gallery",children:[Object(g.jsx)("i",{className:"far fa-image"}),"Gallery"]})})]})})}),Object(g.jsx)("div",{className:"containers",children:U})]})}var M=function(e){Object(O.a)(c,e);var t=Object(f.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return Object(h.a)(c,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"home",children:[Object(g.jsx)(F,{}),Object(g.jsx)(S.a,{})]})}}]),c}(n.Component),L=c(181);function W(e){var t=e.component,c=Object(L.a)(e,["component"]),n=Object(C.b)().currentUser;return Object(g.jsx)(y.b,Object(l.a)(Object(l.a)({},c),{},{render:function(e){return n?Object(g.jsx)(t,Object(l.a)({},e)):Object(g.jsx)(y.a,{to:"/sign-in"})}}))}function J(){var e=Object(n.useRef)(),t=(Object(n.useRef)(),Object(C.b)().resetPassword),c=Object(n.useState)(""),s=Object(u.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!1),l=Object(u.a)(i,2),d=l[0],b=l[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),f=O[0],m=O[1];function p(){return(p=Object(j.a)(o.a.mark((function c(n){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,m(""),r(""),b(!0),c.next=7,t(e.current.value);case 7:m("Check your inbox/junk for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),r("Failed to reset password, ".concat(c.t0));case 13:b(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"signUp",children:[Object(g.jsx)("figure",{children:Object(g.jsx)("img",{src:D.a,alt:"adventures with chu"})}),a&&Object(g.jsx)(U.a,{message:a}),f&&Object(g.jsx)(U.a,{message:f}),Object(g.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(g.jsxs)("div",{className:"input-form",children:[Object(g.jsx)("label",{children:"Email Address"}),Object(g.jsx)("input",{type:"email",required:!0,ref:e})]}),Object(g.jsx)("button",{disabled:d,type:"submit",className:"button",children:"Reset Password"})]}),Object(g.jsx)("div",{className:"login",children:Object(g.jsxs)("p",{children:["Have an account?",Object(g.jsx)("a",{href:"/sign-in",children:"Login"})]})})]})})}c(521);function H(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),r=Object(u.a)(a,2),i=r[0],l=r[1],b=Object(n.useState)([]),h=Object(u.a)(b,2),O=h[0],f=h[1],m=Object(n.useRef)(),x=Object(C.b)().currentUser,v=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://gnews.io/api/v4/search?q=".concat(t,"&max=5  &lang=en&token=").concat("a5869a44b211015aab3d89a6de6d3ad4")).then((function(e){var t,c=[],n=Object(d.a)(e.data.articles);try{for(n.s();!(t=n.n()).done;){var a=t.value;c.push({content:a.content,description:a.description,image:a.image,date:a.publishedAt,source:a.source,title:a.title,url:a.url})}}catch(r){n.e(r)}finally{n.f()}s(c)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t=i.filter((function(t){return t.name.indexOf(e)>-1}));f(t)},y=Object(n.useState)(""),k=Object(u.a)(y,2),A=k[0],E=k[1],D=Object(n.useState)([]),_=Object(u.a)(D,2),I=_[0],R=_[1],U=Object(n.useState)(""),T=Object(u.a)(U,2),B=T[0],F=T[1],M=function(){var e=Object(j.a)(o.a.mark((function e(t){var c,n,s,a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(null),c="",e.next=4,w.a.get("https://adventures-with-chu-default-rtdb.firebaseio.com/users/".concat(t.id,"/profile.json")).then((function(e){c=Object.keys(e.data)})).catch((function(e){return console.log(e)}));case 4:if(n={id:t.id},s={id:x.uid},a=[],I)for(r=Object.keys(I),i=0;i<r.length;i++)a.push({id:I[r[i]].id});if({id:t.id},0!=a.some((function(e){return e.id==t.id}))&&I){e.next=16;break}return e.next=14,w.a.post("https://adventures-with-chu-default-rtdb.firebaseio.com//users/".concat(x.uid,"/profile/").concat(A,"/following.json"),n).then((function(e){F("changed")})).catch((function(e){return console.log(e)}));case 14:return e.next=16,w.a.post("https://adventures-with-chu-default-rtdb.firebaseio.com//users/".concat(t.id,"/profile/").concat(c[0],"/followers.json"),s).then((function(e){F("changed")})).catch((function(e){return console.log(e)}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L="",W="";O&&(L=O.map((function(e){var t="";if(e.images&&(t=Object.values(e.images)[0].imageUrl),e.images||(t=P.a),x.uid===e.id&&(W=Object(g.jsxs)("div",{className:"user",children:[Object(g.jsx)("div",{className:"image",children:Object(g.jsx)("img",{src:t})}),Object(g.jsx)("h2",{children:e.name}),Object(g.jsx)("p",{children:e.location})]},e.id)),x.uid!==e.id&&(W=Object(g.jsxs)("div",{className:"user",children:[Object(g.jsx)("div",{className:"image",children:Object(g.jsx)("img",{src:t})}),Object(g.jsx)("h2",{children:e.name}),Object(g.jsx)("p",{children:e.location}),Object(g.jsx)("button",{onClick:function(){return M(e)},children:"Follow"})]},e.id)),I){for(var c=Object.keys(I),n=[],s=0;s<c.length;s++)n.push({id:I[c[s]].id});1==n.some((function(t){return t.id==e.id}))&&(W=Object(g.jsxs)("div",{className:"user",children:[Object(g.jsx)("div",{className:"image",children:Object(g.jsx)("img",{src:t})}),Object(g.jsx)("h2",{children:e.name}),Object(g.jsx)("p",{children:e.location}),Object(g.jsx)("button",{className:"following",children:"Following"})]}))}return Object(g.jsx)("div",{className:"userProfile",children:W})}))),Object(n.useEffect)(Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://adventures-with-chu-default-rtdb.firebaseio.com/users.json").then((function(e){for(var t=[],c=Object.keys(e.data),n=0;n<c.length;n++){var s="",a="",r="";if(e.data[c[n]].profile){var i=Object.values(e.data[c[n]].profile);c[n],s=i[0].name,a=i[0].location,r=i[0].images}t.push({id:c[n],name:s,location:a,images:r})}l(t)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,w.a.get("users/".concat(x.uid,"/profile.json")).then((function(e){var t=Object.values(e.data),c=Object.keys(e.data);R(t[0].following),E(c[0])})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),[B]);var J="",H=c.map((function(e){return c.length>0&&e.content.length>200&&(J=Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:e.title}),Object(g.jsx)("img",{src:e.image}),Object(g.jsxs)("p",{children:[" ",e.content.slice(0,199),"...",Object(g.jsx)("span",{children:Object(g.jsx)("a",{href:e.url,target:"__blank",children:" Read More."})})]})]})),Object(g.jsx)("div",{className:"blog",children:J})}));return Object(g.jsxs)("div",{className:"home",children:[Object(g.jsxs)("div",{className:"browse",children:[Object(g.jsx)("div",{className:"search",children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(m.current.value),i&&N(m.current.value),m.current.value=null},className:"browseForm",children:[Object(g.jsxs)("div",{className:"browseInput",children:[Object(g.jsx)("label",{children:"Browse"}),Object(g.jsx)("input",{type:"text",ref:m,placeholder:"Case-sensitive when looking for users"})]}),Object(g.jsx)("button",{type:"submit",children:"Search"})]})}),Object(g.jsxs)("div",{className:"grids",children:[L,H]})]}),Object(g.jsx)(S.a,{})]})}function q(){return Object(g.jsx)("div",{className:"",children:Object(g.jsx)(H,{})})}c(74),c(522);var G=c(182);var z=c(118);function Y(){var e=Object(C.b)().currentUser,t=Object(n.useState)([]),c=Object(u.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(null),i=Object(u.a)(r,2),d=i[0],b=i[1];Object(n.useEffect)(Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("users/".concat(e.uid,"/blogs.json")).then((function(e){var t=[];for(var c in e.data)t.push(Object(l.a)(Object(l.a)({},e.data[c]),{},{id:c}));a(t)})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)}))),[]);var h=[],O=Object(g.jsx)("div",{});s&&(Object.keys(s).length>0&&(s.map((function(e){e.images&&Object.values(e.images).map((function(e){h.push({id:e.id,url:e.imageUrl})}))})),O=h.map((function(e){return Object(g.jsx)(G.a.div,{className:"img-wrap",whileHover:{opacity:1},onClick:function(){return b(e.url)},children:Object(g.jsx)(G.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1}})},e.id)}))));return Object(g.jsxs)("div",{className:"home",children:[Object(g.jsxs)("div",{className:"profile",children:[Object(g.jsx)(B.a,{}),Object(g.jsx)("main",{children:Object(g.jsx)("div",{className:"userContent",children:Object(g.jsxs)("div",{className:"tags",children:[Object(g.jsx)("p",{children:Object(g.jsxs)(k.b,{to:"profile-blogs",children:[Object(g.jsx)("i",{className:"fas fa-scroll"}),"Blogs"]})}),Object(g.jsx)("p",{children:Object(g.jsxs)(k.b,{to:"profile-gallery",children:[Object(g.jsx)("i",{className:"far fa-image"}),"Gallery"]})})]})})}),Object(g.jsx)("div",{className:"profile-content",children:Object(g.jsxs)("div",{className:"img-grid",children:[O,d&&Object(g.jsx)(z.a,{selectedImg:d,setSelectedImg:b})]})})]}),Object(g.jsx)(S.a,{})]})}function K(){return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(B.a,{}),Object(g.jsx)("div",{className:"containers",children:Object(g.jsx)("p",{children:"I am a saved post"})})]})}function V(){var e=Object(y.h)(),t=e.id,c=e.user,s=Object(y.g)(),a=Object(n.useState)([]),r=Object(u.a)(a,2),i=r[0],l=r[1],d=Object(n.useState)([]),b=Object(u.a)(d,2),h=b[0],O=b[1],f=Object(n.useState)(""),m=Object(u.a)(f,2),p=m[0],x=m[1];Object(n.useEffect)(Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,w.a.get("users/".concat(c,"/blogs/").concat(t,".json")).then((function(e){var t=[],c=[];t.push({content:e.data.content}),e.data.images&&(c.push({images:e.data.images}),O(c)),l(t)})).catch((function(e){return console.log(e)}));case 3:return e.next=5,w.a.get("users/".concat(c,"/profile.json")).then((function(e){var t=Object.values(e.data);x(t[0].name)})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),[]);var v="",N="",S="";if(i.length>0){var k=i[0].content,C=Object.keys(k);v=k[C].title,N=k[C].content,S=k[C].date}var P=Object(g.jsx)("div",{}),A=Object(g.jsx)("div",{}),E=[],D="";if(h.length>0){D=Object.values(h[0].images);for(var _=0;_<D.length;_++)E.push({id:D[_].id,imageUrl:D[_].imageUrl,description:D[_].description});P=E.map((function(e){return e.description?Object(g.jsxs)("div",{className:"img",children:[Object(g.jsx)("img",{src:e.imageUrl}),Object(g.jsx)("p",{children:e.description})]},e.id):e.description?void 0:Object(g.jsx)("div",{className:"noDesc",children:Object(g.jsx)("img",{src:e.imageUrl})},e.id)})),A=Object(g.jsxs)("div",{className:"gallery",children:[Object(g.jsx)("h4",{children:"Gallery"}),Object(g.jsx)("div",{className:"img-grid",children:P})]})}return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)("div",{className:"showBlog",children:[Object(g.jsxs)("header",{children:[Object(g.jsx)("h2",{children:v}),Object(g.jsxs)("h4",{children:["Author: ",p," "]}),Object(g.jsxs)("h4",{children:["Posted: ",S]})]}),A,Object(g.jsx)("div",{className:"synopsis",children:Object(g.jsx)("p",{children:N})})]}),Object(g.jsx)("div",{className:"backButton",children:Object(g.jsx)("button",{onClick:function(){return s.goBack()},children:"Back"})})]})}var X=s.a.lazy((function(){return c.e(3).then(c.bind(null,528))})),Q=s.a.lazy((function(){return c.e(6).then(c.bind(null,529))})),Z=s.a.lazy((function(){return c.e(5).then(c.bind(null,530))})),$=s.a.lazy((function(){return c.e(4).then(c.bind(null,531))})),ee=s.a.lazy((function(){return c.e(7).then(c.bind(null,533))}));var te=function(){return Object(g.jsx)(k.a,{children:Object(g.jsxs)(C.a,{children:[Object(g.jsx)(_,{}),Object(g.jsxs)(n.Suspense,{fallback:!0,children:["=",Object(g.jsx)("p",{children:"Loading..."}),Object(g.jsxs)(y.d,{children:[Object(g.jsx)(y.b,{path:"/",exact:!0,component:A}),Object(g.jsx)(W,{path:"/browse",component:q}),Object(g.jsx)(y.b,{path:"/sign-in",exact:!0,component:X}),Object(g.jsx)(y.b,{path:"/sign-up",exact:!0,component:T}),Object(g.jsx)(y.b,{path:"/forgot-password",component:J}),Object(g.jsx)(y.b,{path:"/edit-profile",component:ee}),Object(g.jsx)(W,{path:"/profile-blogs",exact:!0,component:M}),Object(g.jsx)(W,{path:"/profile-gallery",exact:!0,component:Y}),Object(g.jsx)(W,{path:"/profile-following",exact:!0,component:Q}),Object(g.jsx)(W,{path:"/profile-followers",exact:!0,component:Z}),Object(g.jsx)(W,{path:"/profile-saved",exact:!0,component:K}),Object(g.jsx)(W,{path:"/profile-blogs-new",exact:!0,component:I.a}),Object(g.jsx)(W,{path:"/profile-blogs/:id/edit",exact:!0,component:$}),Object(g.jsx)(W,{path:"/profile/blogs/:id",component:R}),Object(g.jsx)(y.b,{path:"/:user/blogs/:id/",exact:!0,component:V})]})]})]})})},ce=function(e){e&&e instanceof Function&&c.e(8).then(c.bind(null,532)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(te,{})}),document.getElementById("root")),ce()},6:function(e,t,c){"use strict";var n=c(57),s=c.n(n).a.create({baseURL:"https://adventures-with-chu-default-rtdb.firebaseio.com/"});t.a=s},63:function(e,t,c){"use strict";t.a=c.p+"static/media/default-profile-picture1.90dc751e.jpg"},64:function(e,t,c){"use strict";c.d(t,"a",(function(){return w}));var n=c(9),s=c(5),a=c.n(s),r=c(11),i=c(4),o=c(2),l=(c(516),c(10)),j=c(63),u=(c.p,c(14)),d=c(8),b=(c(26),c(32)),h=c(33),O=c(35),f=c(34),m=c(20),p=(c(517),c(6)),x=(c(518),c(1));function g(e){var t=Object(x.jsx)("p",{className:"content",children:e.content});return e.content.length>90&&(t=Object(x.jsxs)("p",{className:"content",children:[e.content.slice(0,89),"... ",Object(x.jsx)("span",{children:"Read more"})]})),Object(x.jsx)("div",{className:"cardContainer",children:Object(x.jsx)("a",{href:"my-blogs/".concat(e.id,"/"),children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("h2",{children:e.title}),Object(x.jsxs)("h4",{children:["Written by: ",e.author]}),Object(x.jsxs)("p",{className:"date",children:["Posted on: ",e.date]}),t]})})})}var v=function(e){Object(O.a)(c,e);var t=Object(f.a)(c);function c(e){var s;return Object(b.a)(this,c),(s=t.call(this)).newPostHandler=function(){var e={author:s.state.author,date:s.state.date,content:s.state.content};p.a.post("/posts.json",e).then((function(e){return console.log(e),s.getData(),s.setState({author:"",date:"",content:""})})).catch((function(e){return console.log(e)}))},s.getData=function(){p.a.get("/posts.json").then((function(e){console.log(e.data);var t=[];for(var c in e.data)t.unshift(Object(n.a)(Object(n.a)({},e.data[c]),{},{id:c}));s.setState({posts:t})}))},s.state={posts:[],submitted:!1},console.log("constructor"),s}return Object(h.a)(c,[{key:"componentDidMount",value:function(){this.getData(),console.log("component did mount")}},{key:"render",value:function(){var e=this.state.posts.map((function(e){return Object(x.jsx)(g,{title:e.title,author:e.author,date:e.date,content:e.content,id:e.id},e.id)}));return Object(x.jsx)(m.a,{children:Object(x.jsxs)("div",{className:"blog",children:[Object(x.jsxs)("div",{className:"profile",children:[Object(x.jsx)("h5",{children:"Profile"}),Object(x.jsxs)("div",{className:"pic",children:[Object(x.jsx)("img",{}),"I am img"]}),Object(x.jsx)("p",{children:"User: Alex Chu"}),Object(x.jsx)("button",{children:"Account"}),Object(x.jsx)("button",{children:"Following"}),Object(x.jsx)("button",{children:"Settings"})]}),Object(x.jsxs)("div",{className:"posts",children:[Object(x.jsx)("h5",{children:"My Blogs"}),Object(x.jsx)("div",{className:"icon",children:Object(x.jsxs)("a",{href:"/profile/my-blogs/new",children:["New Blog",Object(x.jsx)("i",{className:"fas fa-plus"})]})}),Object(x.jsx)("div",{className:"blogs",children:e})]})]})})}}]),c}(o.Component),N=function(e){Object(O.a)(c,e);var t=Object(f.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return Object(h.a)(c,[{key:"render",value:function(){return Object(x.jsx)(m.a,{children:Object(x.jsx)(v,{})})}}]),c}(o.Component);c(519),o.Component,c(113);function w(){var e=Object(o.useState)(""),t=Object(i.a)(e,2),c=(t[0],t[1]),s=Object(l.b)(),b=s.currentUser,h=s.logout,O=Object(u.g)().history,f=Object(o.useState)([]),m=Object(i.a)(f,2),g=m[0],v=m[1],N=Object(o.useState)(""),w=Object(i.a)(N,2),S=w[0],y=w[1],k=Object(o.useState)(!1),C=Object(i.a)(k,2);C[0],C[1];function P(){return(P=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,h();case 4:window.location.reload(),O.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c("Failed to log out");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var A=Object(x.jsx)("h1",{children:"(Profile Name)"}),E=Object(x.jsx)("h2",{children:"(Location)"});S.length>0&&(S[0].name&&(A=Object(x.jsx)("h1",{children:S[0].name})),S[0].location&&(E=Object(x.jsx)("h2",{children:S[0].location})));Object(o.useEffect)(Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("users/".concat(b.uid,"/blogs.json")).then((function(e){var t=[];for(var c in e.data)t.push(Object(n.a)(Object(n.a)({},e.data[c]),{},{id:c}));v(t)})).catch((function(e){return console.log(e)}));case 2:return e.next=4,p.a.get("users/".concat(b.uid,"/profile.json")).then((function(e){var t=[];for(var c in e.data)t.unshift(Object(n.a)(Object(n.a)({},e.data[c]),{},{id:c}));y(t)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)}))),[]);var D=j.a,_=0,I=0;if(S&&S.length>0){if(S[0].images)D=Object.values(S[0].images)[0].imageUrl;if(S[0].following)_=Object.keys(S[0].following).length;if(S[0].followers)I=Object.keys(S[0].followers).length}var R="";return g&&(R=g.length),Object(x.jsxs)("div",{className:"containers",children:[Object(x.jsxs)("div",{className:"profile-page",children:[Object(x.jsx)("div",{className:"profilePic",children:Object(x.jsx)("picture",{className:"profile-pic",children:Object(x.jsx)("img",{src:D})})}),Object(x.jsxs)("div",{className:"user-details",children:[Object(x.jsxs)("div",{className:"display",children:[A,E]}),Object(x.jsxs)("div",{className:"count",children:[Object(x.jsx)(d.b,{to:"/profile-blogs",children:Object(x.jsxs)("p",{children:["Posts: ",R]})}),Object(x.jsx)(d.b,{to:"/profile-followers",children:Object(x.jsxs)("p",{className:"followers",children:["Followers: ",I]})}),Object(x.jsx)(d.b,{to:"/profile-following",children:Object(x.jsxs)("p",{className:"following",children:["Following: ",_]})})]})]}),Object(x.jsxs)("div",{className:"links",children:[Object(x.jsx)("button",{children:Object(x.jsx)(d.b,{to:"/edit-profile",children:"Edit Profile"})}),Object(x.jsx)("button",{children:Object(x.jsx)(d.b,{to:"/",onClick:function(){return P.apply(this,arguments)},children:"Log out"})})]})]}),Object(x.jsx)("div",{className:"underline2",children:Object(x.jsx)("div",{className:"shadow2"})})]})}},66:function(e,t,c){"use strict";t.a=c.p+"static/media/logo3.7c17e91f.png"},74:function(e,t,c){"use strict";var n=c(9),s=c(4),a=c(2),r=c(26);t.a=function(e){var t=Object(a.useState)([]),c=Object(s.a)(t,2),i=c[0],o=c[1];return Object(a.useEffect)((function(){var t=r.b.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(n.a)(Object(n.a)({},e.data()),{},{id:e.id}))})),o(t)}));return function(){return t()}}),[e]),{docs:i}}},75:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));c(2);var n=c(1);function s(e){return Object(n.jsx)("div",{className:"error",children:Object(n.jsx)("h4",{children:e.message})})}}},[[523,1,2]]]);
//# sourceMappingURL=main.35704691.chunk.js.map