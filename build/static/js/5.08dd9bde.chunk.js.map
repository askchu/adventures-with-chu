{"version":3,"sources":["component/Blogging/ImageGrid/Modal/Modal.js","component/Profile/ProfileFollowers/ProfileFollowers.js"],"names":["Modal","selectedImg","setSelectedImg","className","onClick","e","target","classList","contains","src","alt","ProfileGallery","currentUser","useAuth","useState","userProfile","setUserProfile","foundCurrentUser","setCurrentUser","followingData","setFollowingData","followers","setFollowers","grabFollowingData","a","Object","keys","length","profileObj","profile","results","values","console","log","followingId","following","data","i","instance","get","id","then","res","push","userId","userObjectId","profileObjectValue","catch","err","grabUserProfile","uid","useEffect","window","scrollTo","displayUsers","map","doc","profileValues","profilePic","img1","images","imgValue","imageUrl","name"],"mappings":"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","file":"static/js/5.08dd9bde.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function Modal({ selectedImg, setSelectedImg }) {\r\n    const handleClick = (e) => {\r\n        if (e.target.classList.contains('backdrop')) {\r\n            setSelectedImg(null);\r\n        }\r\n    }\r\n    return (\r\n        <div className='container'>\r\n            <div className='backdrop' onClick={handleClick}>\r\n                <img src={selectedImg} alt='enlarged pic' />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport instance from '../../../axios-orders';\r\nimport { useAuth } from '../../Authentication/AuthContext/AuthContext';\r\nimport Modal from '../../Blogging/ImageGrid/Modal/Modal';\r\nimport Profile from '../Profile';\r\nimport { motion } from 'framer-motion';\r\nimport Footer from '../../Navigation/Footer/Footer';\r\nimport { Link } from 'react-router-dom';\r\nimport img1 from '../../../assets/images/img1.jpg';\r\n\r\nexport default function ProfileGallery() {\r\n    const { currentUser } = useAuth();\r\n    const [userProfile, setUserProfile] = useState([]);\r\n    const [blogData, setBlogData] = useState([]);\r\n    const [foundCurrentUser, setCurrentUser] = useState('');\r\n    const [selectedImg, setSelectedImg] = useState(null);\r\n    const [followingData, setFollowingData] = useState([]);\r\n    const [followers, setFollowers] = useState(false)\r\n\r\n    const grabFollowingData = async () => {\r\n        if (userProfile) {\r\n            let object = Object.keys(userProfile);\r\n            // console.log(object)\r\n            // console.log(object.length)\r\n            if (object.length > 0) {\r\n                // console.log(userProfile[0].userProfile);\r\n                const profileObj = Object.keys(userProfile[0].profile);\r\n                const results = Object.values(userProfile[0].profile);\r\n                console.log(results);\r\n                const followingId = Object.keys(results[0].followers);\r\n                const following = Object.values(results[0].followers);\r\n                // console.log(following);\r\n                // console.log(following.length);\r\n                let data = [];\r\n                for (let i = 0; i < following.length; i++) {\r\n                    await instance.get(`/users/${following[i].id}.json`)\r\n                        .then(res => {\r\n                            console.log(res);\r\n                            data.push({ ...res.data, userId: following[i].id, userObjectId: followingId[i], profileObjectValue: profileObj[0] })\r\n                            // console.log(data);\r\n                        })\r\n                        .catch(err => console.log(err));\r\n                }\r\n                if (data.length > 0) {\r\n                    setFollowingData(data);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const grabUserProfile = async () => {\r\n        await instance.get(`/users/${currentUser.uid}.json`)\r\n            .then(res => {\r\n                console.log(res);\r\n                const results = [];\r\n                results.push({\r\n                    ...res.data\r\n                })\r\n                setUserProfile(results);\r\n                setCurrentUser('logged in');\r\n                setFollowers(false);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    const unfollowUser = async (currentUser, followingUser, followingUserObjectId, currentUserProfileObjectValue) => {\r\n        console.log(currentUser);\r\n        console.log(followingUser);\r\n        console.log(followingUserObjectId);\r\n        await instance.delete(`https://auth-production-90d68-default-rtdb.firebaseio.com/users/${currentUser}/profile/${currentUserProfileObjectValue}/following/${followingUserObjectId}.json`)\r\n            .then(response => {\r\n                console.log(response);\r\n                setFollowers(true);\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n        console.log(userProfile[0].profile);\r\n        const followingStats = Object.values(userProfile[0].profile);\r\n        const followingValues = Object.values(followingStats[0].following);\r\n        console.log(followingValues);\r\n        console.log(followingValues.length);\r\n\r\n\r\n        // await instance.delete(`https://auth-production-90d68-default-rtdb.firebaseio.com/users/${user.id}/profile/${userObjectKey[0]}/followers.json`, loggedUser)\r\n        //     .then(response => {\r\n        //         console.log(response);\r\n        //         setFollowing('changed');\r\n        //     })\r\n        //     .catch(err => console.log(err));\r\n    }\r\n\r\n    useEffect(async () => {\r\n        window.scrollTo(0, 0)\r\n\r\n        grabUserProfile();\r\n        if (userProfile) {\r\n            grabFollowingData()\r\n        }\r\n    }, [foundCurrentUser, followers])\r\n\r\n    console.log(followingData);\r\n    console.log(userProfile);\r\n\r\n    let displayUsers = <div></div>\r\n\r\n\r\n\r\n\r\n    if (followingData) {\r\n\r\n        if (followingData.length > 0) {\r\n            displayUsers = followingData.map(doc => {\r\n                console.log(currentUser.uid)\r\n                console.log(doc);\r\n                console.log(doc.id);\r\n                const profileObj = Object.keys(doc.profile);\r\n                console.log(profileObj[0])\r\n                const profileValues = Object.values(doc.profile);\r\n                console.log(profileValues[0]);\r\n                console.log(profileValues[0].following);\r\n\r\n                let profilePic = <img src={img1} />\r\n                if (profileValues[0].images) {\r\n                    const imgValue = Object.values(profileValues[0].images);\r\n                    profilePic = <img src={imgValue[0].imageUrl} />\r\n\r\n                    return (\r\n                        <div className='followingUsers'>\r\n                            <div className='following'>\r\n                                <div className='profilePic'>\r\n                                    {profilePic}\r\n                                </div>\r\n                                <div className='profileName'>\r\n                                    <h2>{profileValues[0].name}</h2>\r\n                                    {/* <h2>{blog.profileName}</h2>\r\n                                <p>{blogContent[0].date}</p> */}\r\n                                </div>\r\n                                {/* <button onClick={() => unfollowUser(currentUser.uid, doc.userId, doc.userObjectId, doc.profileObjectValue)}>Unfollow</button> */}\r\n                            </div>\r\n\r\n                        </div>\r\n                    )\r\n                }\r\n                if (!profileValues[0].images) {\r\n                    return (\r\n                        <div className='followingUsers'>\r\n                            <div className='following'>\r\n                                <div className='profilePic'>\r\n                                    {profilePic}\r\n                                </div>\r\n                                <div className='profileName'>\r\n                                    <h2>{profileValues[0].name}</h2>\r\n                                </div>\r\n                                {/* <button onClick={() => unfollowUser(currentUser.uid, doc.userId, doc.userObjectId, doc.profileObjectValue)}>Unfollow</button> */}\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='home'>\r\n\r\n            <div className='profile'>\r\n                <Profile />\r\n                <div className='followers'>\r\n                    <h1>Followers</h1>\r\n                    {displayUsers}\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n\r\n    )\r\n}"],"sourceRoot":""}